# This is a TEMPLATE file - DO NOT commit actual secrets to git
# Use this as a reference to create the actual secret via kubectl or sealed-secrets
#
# To create the actual secret:
# kubectl create secret generic fitvibe-secrets \
#   --from-literal=postgres-user=<USER> \
#   --from-literal=postgres-password=<PASSWORD> \
#   --from-literal=redis-password=<REDIS_PASSWORD> \
#   --from-file=jwt-private-key=./jwt_private.pem \
#   --from-file=jwt-public-key=./jwt_public.pem \
#   --namespace=fitvibe
#
# Or use sealed-secrets for GitOps:
# kubeseal --format=yaml < secrets.yaml > sealed-secrets.yaml

apiVersion: v1
kind: Secret
metadata:
  name: fitvibe-secrets
  namespace: fitvibe
  labels:
    app: fitvibe
type: Opaque
stringData:
  # PostgreSQL Credentials
  postgres-user: "REPLACE_WITH_POSTGRES_USER"
  postgres-password: "REPLACE_WITH_SECURE_PASSWORD"

  # Redis Credentials
  redis-password: "REPLACE_WITH_REDIS_PASSWORD"
  redis-url: "redis://:REPLACE_WITH_REDIS_PASSWORD@redis:6379"

  # Email Service (if using external SMTP)
  smtp-host: "REPLACE_WITH_SMTP_HOST"
  smtp-port: "587"
  smtp-user: "REPLACE_WITH_SMTP_USER"
  smtp-password: "REPLACE_WITH_SMTP_PASSWORD"
  smtp-from-email: "noreply@fitvibe.com"

  # JWT Keys (use file mounting instead for large keys)
  # jwt-private-key: "REPLACE_WITH_BASE64_ENCODED_PRIVATE_KEY"
  # jwt-public-key: "REPLACE_WITH_BASE64_ENCODED_PUBLIC_KEY"

  # Database URL (constructed from individual components)
  database-url: "postgresql://REPLACE_WITH_POSTGRES_USER:REPLACE_WITH_SECURE_PASSWORD@postgres:5432/fitvibe?sslmode=require"

---
# For mounting JWT keys as files (recommended for RSA-4096 keys)
apiVersion: v1
kind: Secret
metadata:
  name: jwt-keys
  namespace: fitvibe
  labels:
    app: fitvibe
type: Opaque
data:
  # Base64 encoded RSA keys
  # Generate with:
  # openssl genrsa -out jwt_private.pem 4096
  # openssl rsa -in jwt_private.pem -pubout -out jwt_public.pem
  # cat jwt_private.pem | base64 -w 0
  # cat jwt_public.pem | base64 -w 0
  jwt_private.pem: "REPLACE_WITH_BASE64_ENCODED_PRIVATE_KEY"
  jwt_public.pem: "REPLACE_WITH_BASE64_ENCODED_PUBLIC_KEY"
