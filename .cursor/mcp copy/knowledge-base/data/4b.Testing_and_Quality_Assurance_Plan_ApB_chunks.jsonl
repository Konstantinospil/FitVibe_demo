{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_000", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "﻿---\ntitle: \"FitVibe — Testing & Quality Assurance Plan\"\nversion: \"v3.0\"\nstatus: \"Approved (MVP → GA baseline)\"\nreview_cadence: \"Per release and quarterly\"\ndate: \"2025-10-26\"\nlicense: \"MIT\"\n---\n\n# Appendix B — Acceptance Criteria (excerpt skeleton)\n\n## Legend\n\n- **Verif.** = Verification methods (Unit / Integration / Contract / E2E / Perf / A11y / Security / Visual / DB / Compliance / Ops).\n- **Evidence** = Expected CI or release artifacts.\n- **Gate** = Concrete pass/fail threshold (blocks merge/release if unmet).\n\n---\n\n## FR-1 — User Management & Security\n\n| AC ID       | Criterion                                                                                                        | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 0, "token_count": 175, "hash_short": "0bb994e8", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_001", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "1 — User Management & Security\n\n| AC ID       | Criterion                                                                                                        | Verif.                               | Evidence                                      | Gate                               |\n| ----------- | ---------------------------------------------------------------------------------------------------------------- | ------------------------------------ | --------------------------------------------- | ---------------------------------- |\n| **AC-1.1**  | Email verification required pre-login; token TTL **15 min**; resend ≤ **3/hour**; unverified purged ≤ **7 days** | Integration, E2E                     | API test logs; Playwright trace; audit record | All subchecks pass                 |\n| **AC-1.2**  | Account lockout after **10** failed logins; unlock requires CAPTCHA or cooldown                                  | Integration                          | Test report; rate-limit logs                  | Lockout triggered exactly at 10    |\n| **AC-1.3**  | Password policy ≥ **12 chars** w/ upper/lower/number/symbol                                                      | Unit, Integration                    | Validator unit tests                          | 100% policy cases pass             |\n| **AC-1.4**  | DSR export & delete processed ≤ **30 days**                                                                      | E2E, Compliance                      | DSR ticket + timestamped audit bundle         | SLA ≤ 30d                          |\n| **AC-1.5**  | 2FA (TOTP) enrollment requires current password; generates **10** backup codes                                   | Integration, E2E                     | Enrollment log + codes                        | Codes unique; stored hashed        |\n| **AC-1.6**  | If 2FA enabled, login requires valid TOTP or single-use backup code (burn on use)                                | E2E                                  | Playwright trace                              | Backup code cannot be reused       |\n| **AC-1.7**  | Admin endpoints require `role=admin`; **no IDOR** across resources                                               | Security (ZAP auth ctx), Integration | ZAP report; 403 assertions                    | 0 High in ZAP; all RBAC tests pass |\n| **AC-1.8**  | Verify-email resend throttled **≤3/hour** per acct/IP; auto-purge unverified at 7d                               | Integration, Ops                     | Job log; throttle counters                    | Throttle hit at 4th request        |\n| **AC-1.9**  | Password reset token single-use; **15 min** TTL; success revokes **all** refresh tokens                          | Security, Integration                | Token table diff; 401 on old tokens           | Reuse denied; sessions revoked     |\n| **AC-1.10** | Refresh rotation; **reuse detection → family revoke**; explicit logout clears sessions                           | Integration, Security                | DB token audit; negative reuse test           | Reuse returns 401 + revoke         |\n| **AC-1.11** | JWKS/key rotation: current + previous keys valid during grace window                                             | Integration, Ops                     | JWKS fetch tests                              | Both keys validate within window   |\n| **AC-1.12** | **No user enumeration**; timing variance **≤10%** vs valid user                                                  | Security (timing), Integration       | Timing diff report                            | ≤10% relative variance             |\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 1, "token_count": 901, "hash_short": "7247fd04", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_002", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "10%** vs valid user                                                  | Security (timing), Integration       | Timing diff report                            | ≤10% relative variance             |\n\n---\n\n\n## FR-2 — Profile & Settings\n\n| AC ID      | Criterion                                                         | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 2, "token_count": 80, "hash_short": "b95a6832", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_003", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "| ≤10% relative variance             |\n\n---\n\n\n## FR-2 — Profile & Settings\n\n| AC ID      | Criterion                                                         | Verif.                | Evidence                     | Gate                            |\n| ---------- | ----------------------------------------------------------------- | --------------------- | ---------------------------- | ------------------------------- |\n| **AC-2.1** | Alias unique (case-insensitive)                                   | Integration           | Conflict test                | 409 on dup (any case)           |\n| **AC-2.2** | Avatar ≤ **5 MB** (JPEG/PNG/WebP); renders in UI; EXIF stripped   | E2E, Security         | Upload logs; UI render check | Size/type enforced; EXIF absent |\n| **AC-2.3** | Profile updates create snapshot rows in `user_state_history`      | Integration, DB       | DB diff                      | ≥1 snapshot per update          |\n| **AC-2.4** | `dateOfBirth`, `gender` immutable post-creation → **422**         | Contract, Integration | API contract test            | Attempts rejected w/ 422        |\n| **AC-2.5** | All uploads AV-scanned; **EICAR** rejected (HTTP **400** + audit) | Security, Integration | AV log; audit entry          | EICAR blocked                   |\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 3, "token_count": 321, "hash_short": "ac06bf55", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_004", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "jected w/ 422        |\n| **AC-2.5** | All uploads AV-scanned; **EICAR** rejected (HTTP **400** + audit) | Security, Integration | AV log; audit entry          | EICAR blocked                   |\n\n---\n\n\n## FR-3 — Exercise Library\n\n| AC ID      | Criterion                                                                           | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 4, "token_count": 84, "hash_short": "c018268b", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_005", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "| EICAR blocked                   |\n\n---\n\n\n## FR-3 — Exercise Library\n\n| AC ID      | Criterion                                                                           | Verif.                | Evidence                    | Gate                             |\n| ---------- | ----------------------------------------------------------------------------------- | --------------------- | --------------------------- | -------------------------------- |\n| **AC-3.1** | Delete = soft-delete; records remain auditable                                      | Integration, DB       | DB flags; API behavior      | Not visible in lists; kept in DB |\n| **AC-3.2** | Public flag controls discoverability in feed/search                                 | E2E, Integration      | Feed query checks           | Public visible; private hidden   |\n| **AC-3.3** | Exercise name snapshot retained in `session_exercises`                              | DB                    | DB row contents             | Snapshot equals at creation time |\n| **AC-3.4** | Global library RBAC: only admins can create/update/delete global items; audit trail | Security, Integration | ZAP auth ctx; audit entries | All admin checks pass; audit ok  |\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 5, "token_count": 303, "hash_short": "26b3b2af", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_006", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "me |\n| **AC-3.4** | Global library RBAC: only admins can create/update/delete global items; audit trail | Security, Integration | ZAP auth ctx; audit entries | All admin checks pass; audit ok  |\n\n---\n\n\n## FR-4 — Sessions (Plan / Log / Clone)\n\n| AC ID      | Criterion                                                        | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 6, "token_count": 82, "hash_short": "5dcc3871", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_007", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "audit entries | All admin checks pass; audit ok  |\n\n---\n\n\n## FR-4 — Sessions (Plan / Log / Clone)\n\n| AC ID      | Criterion                                                        | Verif.            | Evidence                | Gate                           |\n| ---------- | ---------------------------------------------------------------- | ----------------- | ----------------------- | ------------------------------ |\n| **AC-4.1** | Timestamps are timezone-safe; DST transitions correct            | Unit, Integration | Fixture across DST      | Expected wall-time preserved   |\n| **AC-4.2** | Planned vs Actual comparison visible in session UI               | E2E               | UI assertion            | Elements present & correct     |\n| **AC-4.3** | Cloned session preserves attribution to original                 | E2E               | Attribution field check | Attribution non-null & matches |\n| **AC-4.4** | RRULE expansion DST-safe across TZ                               | Unit, Integration | RRULE test suite        | Recurrences match spec         |\n| **AC-4.5** | Cancelled instances excluded from streaks/points                 | Integration, E2E  | Points/streak calc      | Excluded consistently          |\n| **AC-4.6** | Public→Private switch removes items from feed/search ≤ **5 min** | E2E, Security     | Poll logs; indexer log  | Removed within 5 minutes       |\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 7, "token_count": 347, "hash_short": "86ca3cf4", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_008", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "Excluded consistently          |\n| **AC-4.6** | Public→Private switch removes items from feed/search ≤ **5 min** | E2E, Security     | Poll logs; indexer log  | Removed within 5 minutes       |\n\n---\n\n\n## FR-5 — Progress & Analytics\n\n| AC ID      | Criterion                                           | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 8, "token_count": 77, "hash_short": "e17600a8", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_009", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "E2E, Security     | Poll logs; indexer log  | Removed within 5 minutes       |\n\n---\n\n\n## FR-5 — Progress & Analytics\n\n| AC ID      | Criterion                                           | Verif.      | Evidence               | Gate                          |\n| ---------- | --------------------------------------------------- | ----------- | ---------------------- | ----------------------------- |\n| **AC-5.1** | Aggregations (date/category) are accurate           | Unit        | Deterministic fixtures | All totals match              |\n| **AC-5.2** | Personal bests & streaks correct on seeded data     | Integration | Seed suite report      | PB/streaks exact              |\n| **AC-5.3** | Exports: CSV/JSON valid (encoding, headers, values) | E2E         | File schema checks     | Valid CSV/JSON; sizes bounded |\n\n---\n\n## FR-6 — Points System\n\n| AC ID      | Criterion                                        | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 9, "token_count": 230, "hash_short": "b7cd8a04", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_010", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "values) | E2E         | File schema checks     | Valid CSV/JSON; sizes bounded |\n\n---\n\n## FR-6 — Points System\n\n| AC ID      | Criterion                                        | Verif.                | Evidence              | Gate                       |\n| ---------- | ------------------------------------------------ | --------------------- | --------------------- | -------------------------- |\n| **AC-6.1** | Points auto-awarded on `session.complete()`      | Integration           | Event → points link   | Event triggers points once |\n| **AC-6.2** | Scoring produces **non-negative bounded** values | Unit, Contract        | Boundary tests        | Never <0; never > max      |\n| **AC-6.3** | Anti-gaming signals logged when thresholds trip  | Perf, Security        | Abuse scenario logs   | Signals created ≥1         |\n| **AC-6.4** | API/UI never expose scoring internals            | Contract, E2E         | OpenAPI diff; UI scan | Only final score exposed   |\n| **AC-6.5** | Admin adjustments audit: actor, reason, ts, diff | Security, Integration | Audit table rows      | All fields non-null        |\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 10, "token_count": 279, "hash_short": "7739a3cc", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_011", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "penAPI diff; UI scan | Only final score exposed   |\n| **AC-6.5** | Admin adjustments audit: actor, reason, ts, diff | Security, Integration | Audit table rows      | All fields non-null        |\n\n---\n\n\n## FR-7 — Sharing & Community\n\n| AC ID      | Criterion                                      | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 11, "token_count": 75, "hash_short": "b1a0b54c", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_012", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "| Security, Integration | Audit table rows      | All fields non-null        |\n\n---\n\n\n## FR-7 — Sharing & Community\n\n| AC ID      | Criterion                                      | Verif.            | Evidence         | Gate                |\n| ---------- | ---------------------------------------------- | ----------------- | ---------------- | ------------------- |\n| **AC-7.1** | Default privacy = **private** for all sessions | Unit, Integration | Default check    | Private by default  |\n| **AC-7.2** | Public feed paginated & searchable             | Integration       | Pagination tests | Bounds respected    |\n| **AC-7.3** | Clone includes attribution metadata in feed    | E2E               | Feed item assert | Attribution visible |\n\n---\n\n## FR-8 — Internationalization (i18n)\n\n| AC ID      | Criterion                                                                   | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 12, "token_count": 221, "hash_short": "23271e44", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_013", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "| Feed item assert | Attribution visible |\n\n---\n\n## FR-8 — Internationalization (i18n)\n\n| AC ID      | Criterion                                                                   | Verif.            | Evidence                  | Gate                     |\n| ---------- | --------------------------------------------------------------------------- | ----------------- | ------------------------- | ------------------------ |\n| **AC-8.1** | Language auto-detected from browser/profile                                 | Unit              | Resolver tests            | Correct lang chosen      |\n| **AC-8.2** | Manual lang switch persists across sessions                                 | E2E               | LocalStorage/cookie check | Persisted after reload   |\n| **AC-8.3** | All UI strings from **static catalogs (EN/DE)**; **no runtime translation** | Unit, Integration | Token coverage            | 100% tokens used         |\n| **AC-8.4** | No **untranslated keys**; **fallback = EN**; lint forbids stray literals    | Static, Unit      | Lint/scan report          | 0 missing; 0 literals    |\n| **AC-8.5** | DSR delete purges translation caches                                        | Integration, Ops  | Cache logs                | Purged within job window |\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 13, "token_count": 317, "hash_short": "c7398298", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_014", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "0 missing; 0 literals    |\n| **AC-8.5** | DSR delete purges translation caches                                        | Integration, Ops  | Cache logs                | Purged within job window |\n\n---\n\n\n# Non-Functional Acceptance Criteria (Complete)\n\n## Security & Privacy\n\n| AC ID            | Criterion                                                                                                                              | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 14, "token_count": 109, "hash_short": "2ceed6c2", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_015", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "ty & Privacy\n\n| AC ID            | Criterion                                                                                                                              | Verif.                      | Evidence              | Gate                        |\n| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------- | --------------------------- | --------------------- | --------------------------- |\n| **SEC-HEADERS**  | Security headers: **CSP** forbids `unsafe-inline`; cookies `HttpOnly; Secure; SameSite=Lax`; HSTS, Referrer-Policy, Permissions-Policy | Security (ZAP), Integration | ZAP HTML; header test | 0 High; all headers present |\n| **SEC-ZAP**      | OWASP ZAP baseline (authenticated) → **no High** findings                                                                              | Security                    | ZAP HTML              | 0 High                      |\n| **SEC-TLS**      | TLS 1.3 negotiated; OCSP stapling enabled at edge                                                                                      | Security, Ops               | SSL scan report       | Pass                        |\n| **SEC-UPLOAD**   | AV scan blocks **EICAR**; audit entry created                                                                                          | Security, Integration       | AV log, 400 response  | Blocked with audit          |\n| **PRIV-CONSENT** | Consent gating: no non-essential analytics before opt-in; events include `consent=true` after opt-in                                   | E2E (network)               | Request capture       | No events pre-opt-in        |\n| **GDPR-DSR**     | DSR export/delete SLA **≤30 days**; evidence bundle archived                                                                           | Compliance                  | DSR bundle            | SLA met                     |\n| **GDPR-BACKUP**  | Delete propagates to backups **≤14 days** proved by **erasure-replay**                                                                 | DR, Compliance              | DR log + query suite  | ≤14d propagation            |", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 15, "token_count": 547, "hash_short": "64d73e7a", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_016", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "backups **≤14 days** proved by **erasure-replay**                                                                 | DR, Compliance              | DR log + query suite  | ≤14d propagation            |\n\n\n## Performance & Web Perf\n\n| AC ID         | Criterion                                                                                             | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 16, "token_count": 89, "hash_short": "a626ea39", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_017", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "≤14d propagation            |\n\n\n## Performance & Web Perf\n\n| AC ID         | Criterion                                                                                             | Verif.            | Evidence           | Gate                  |\n| ------------- | ----------------------------------------------------------------------------------------------------- | ----------------- | ------------------ | --------------------- |\n| **PERF-P95**  | Endpoint group budgets: auth ≤**200ms**, CRUD ≤**300ms**, feed ≤**400ms**, analytics ≤**600ms** (p95) | Perf (k6)         | k6 JSON            | All budgets met       |\n| **PERF-REG**  | Regression guard blocks if p95 degrades **>10%** vs baseline                                          | Perf (k6)         | Guard report       | Δp95 ≤ 10%            |\n| **WEB-LCP**   | LCP P75 < **2.5 s** on mid-tier 4G                                                                    | A11y/Perf         | Lighthouse JSON    | Score/budget pass     |\n| **WEB-CALLS** | ≤ **5** API calls on first paint for key routes                                                       | E2E, Perf         | Network assertions | ≤5 on tracked screens |\n| **RESP-SIZE** | Response size ≤ **1 MB**; gzip/Brotli for >1 KB payloads                                              | Integration, Perf | Size/budget report | All pass              |", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 17, "token_count": 341, "hash_short": "9c1fff6f", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_018", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "ed screens |\n| **RESP-SIZE** | Response size ≤ **1 MB**; gzip/Brotli for >1 KB payloads                                              | Integration, Perf | Size/budget report | All pass              |\n\n\n## Accessibility & Visual Design\n\n| AC ID             | Criterion                                                                                                                        | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 18, "token_count": 98, "hash_short": "8f95dda1", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_019", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "ssibility & Visual Design\n\n| AC ID             | Criterion                                                                                                                        | Verif.              | Evidence             | Gate                 |\n| ----------------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------- | -------------------- | -------------------- |\n| **A11Y-CORE**     | WCAG 2.1 AA; axe/Lighthouse **≥90** on tracked pages                                                                             | A11y, Manual        | axe/lh JSON          | ≥90 on all pages     |\n| **VIZ-TOK-03**    | Design tokens contract (CSS vars, spacing, typography, radii)                                                                    | Visual, Static      | Token check JSON     | 100% required tokens |\n| **VIZ-SNAP-02**   | Visual regression for **Auth/Planner/Logger/Dashboard** across **light/dark** and **xs/sm/md/lg**; **diff ≤0.2%**; mask dynamics | Visual (Playwright) | Diff images + report | ≤0.2% per screen     |\n| **VIZ-RESP-05**   | No horizontal overflow; grids align; long-DE strings don’t break layout                                                          | Visual, A11y        | Responsive report    | All checks pass      |\n| **VIZ-MOTION-09** | Honors `prefers-reduced-motion`; no info conveyed solely by animation                                                            | Visual, A11y        | Motion report        | Pass                 |", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 19, "token_count": 393, "hash_short": "5d458e46", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_020", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "Honors `prefers-reduced-motion`; no info conveyed solely by animation                                                            | Visual, A11y        | Motion report        | Pass                 |\n\n\n## Observability & Reliability\n\n| AC ID         | Criterion                                                                | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 20, "token_count": 83, "hash_short": "721316c7", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_021", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "11y        | Motion report        | Pass                 |\n\n\n## Observability & Reliability\n\n| AC ID         | Criterion                                                                | Verif.        | Evidence         | Gate                        |\n| ------------- | ------------------------------------------------------------------------ | ------------- | ---------------- | --------------------------- |\n| **OBS-HTTP**  | `/metrics` exposes HTTP histogram w/ labels `{method,route,status_code}` | Observability | Scrape test JSON | All required series present |\n| **OBS-DB**    | `db_query_duration_ms` histogram exported                                | Observability | Scrape test JSON | Present with buckets        |\n| **OBS-RUM**   | RUM gauge `frontend_lcp_ms` exported and scraped                         | Observability | Scrape test JSON | Present; P75 tracked        |\n| **AVAIL-SLO** | Availability SLO **≥99.5%** monthly (error budget ≤0.5%)                 | Ops           | SLO dashboard    | SLO met                     |", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 21, "token_count": 260, "hash_short": "cb036075", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_022", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "test JSON | Present; P75 tracked        |\n| **AVAIL-SLO** | Availability SLO **≥99.5%** monthly (error budget ≤0.5%)                 | Ops           | SLO dashboard    | SLO met                     |\n\n\n## Contract, Data & DB\n\n| AC ID            | Criterion                                                                      | Verif.       | Evidence              | Gate             |\n| ---------------- | ------------------------------------------------------------------------------ | ------------ | --------------------- | ---------------- |\n| **CNTR-OPENAPI** | zod ↔ OpenAPI bidirectional parity; negative assertions (no sensitive fields) | Contract     | OpenAPI parity report | 0 mismatches     |\n| **DB-CONTRACTS** | Required indexes exist; migrations monotonic; schema drift = 0                 | DB, Contract | DB contract HTML      | All checks green |\n\n## Supply Chain & Packaging\n\n| AC ID         | Criterion                                               | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 22, "token_count": 244, "hash_short": "41b7a9a2", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_023", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "= 0                 | DB, Contract | DB contract HTML      | All checks green |\n\n## Supply Chain & Packaging\n\n| AC ID         | Criterion                                               | Verif.       | Evidence      | Gate                   |\n| ------------- | ------------------------------------------------------- | ------------ | ------------- | ---------------------- |\n| **SC-SBOM**   | SBOM generated per build; artifact archived             | Supply chain | SBOM JSON     | Present per build      |\n| **SC-SIGN**   | Container images **cosign signed** & **verified** in CI | Supply chain | Verify logs   | Verified before deploy |\n| **SC-DIGEST** | Deploys use **pinned sha256** digests (no mutable tags) | Supply chain | Manifest diff | Only digests allowed   |\n\n## Backup & Disaster Recovery\n\n| AC ID          | Criterion                                                        | Verif.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 23, "token_count": 223, "hash_short": "f670af66", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_024", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "le tags) | Supply chain | Manifest diff | Only digests allowed   |\n\n## Backup & Disaster Recovery\n\n| AC ID          | Criterion                                                        | Verif.         | Evidence             | Gate               |\n| -------------- | ---------------------------------------------------------------- | -------------- | -------------------- | ------------------ |\n| **DR-RPO**     | **RPO ≤ 24h** validated in quarterly restore drill               | DR             | Restore report       | ≤24h data currency |\n| **DR-RTO**     | **RTO ≤ 4h** validated in quarterly restore drill                | DR             | Timing logs          | ≤4h restore time   |\n| **DR-ERASURE** | **Erasure-replay** proves delete propagation to backups ≤14 days | DR, Compliance | Replay logs; queries | ≤14d confirmed     |\n\n---\n\n## Packaging & Usage\n\n- Save as `docs/qa/acceptance_criteria.md` and reference from the RTM.", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 24, "token_count": 233, "hash_short": "2114091b", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
{"chunk_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB_chunk_025", "doc_id": ".._.._docs_4.Testing_and_Quality_Assurance_Plan_4b.Testing_and_Quality_Assurance_Plan_ApB", "text": "elete propagation to backups ≤14 days | DR, Compliance | Replay logs; queries | ≤14d confirmed     |\n\n---\n\n## Packaging & Usage\n\n- Save as `docs/qa/acceptance_criteria.md` and reference from the RTM.\n- Every AC ID must appear in RTM with tests, evidence, owner, status, last_run.\n- CI must fail if any AC lacks passing tests/evidence or violates its Gate.\n\n---", "source_file": "../../docs/4.Testing_and_Quality_Assurance_Plan/4b.Testing_and_Quality_Assurance_Plan_ApB.md", "category": "testing", "chunk_index": 25, "token_count": 90, "hash_short": "5ab61915", "version": 1.0, "title": "Appendix B — Acceptance Criteria (excerpt skeleton)", "mtime": "2025-10-26T18:12:55.200920", "ingested_at": "2025-11-30T04:00:43.796041", "tags": ["testing", "md"]}
