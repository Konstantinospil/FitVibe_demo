{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_000", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "# WCAG 2.2 Update Plan for Visual Design System\n\n\n## Current Status\n\nThe Visual Design System currently references **WCAG 2.1 AA** but should be updated to **WCAG 2.2 AA** (released October 2023). This document outlines the gaps and required updates.\n\n## New WCAG 2.2 Success Criteria (AA Level)\n\n### 1. **2.4.11 Focus Not Obscured (Minimum)** (AA)\n\n**Requirement:** When a component receives keyboard focus, it must not be entirely hidden by author-created content (e.g., sticky headers, modals, popovers).\n\n**Current Status:**\n\n- ✅ Focus rings are implemented (`--focus-glow` in design system)\n- ⚠️ Need to verify: sticky headers, modals, and tooltips don't obscure focused elements\n- ⚠️ Need to ensure focus indicators are at least partially visible\n\n**Action Items:**\n\n- Add z-index guidelines for focusable elements\n- Document focus trap patterns for modals\n- Specify minimum focus indicator visibility (2px outline minimum)\n\n### 2.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 0, "token_count": 234, "hash_short": "41349ace", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_001", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "tially visible\n\n**Action Items:**\n\n- Add z-index guidelines for focusable elements\n- Document focus trap patterns for modals\n- Specify minimum focus indicator visibility (2px outline minimum)\n\n### 2. **2.5.7 Dragging Movements** (AA)\n\n**Requirement:** All functionality that uses dragging must be achievable with a single pointer without dragging, unless dragging is essential.\n\n**Current Status:**\n\n- ⚠️ Planner has drag-and-drop functionality\n- ❓ Need to verify keyboard alternatives exist for all drag operations\n\n**Action Items:**\n\n- Document keyboard alternatives for drag-and-drop in Planner\n- Ensure all draggable items have keyboard navigation (arrow keys, Enter to activate)\n- Add pattern: \"Drag operations must have keyboard equivalents\"\n\n### 3. **2.5.8 Target Size (Minimum)** (AA)\n\n**Requirement:** Pointer input targets must be at least 24×24 CSS pixels, with exceptions for inline links, user agent controls, and essential targets.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 1, "token_count": 236, "hash_short": "fe1f5f35", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_002", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "### 3. **2.5.8 Target Size (Minimum)** (AA)\n\n**Requirement:** Pointer input targets must be at least 24×24 CSS pixels, with exceptions for inline links, user agent controls, and essential targets.\n\n**Current Status:**\n\n- ✅ Design system specifies 44×44px minimum (exceeds requirement)\n- ✅ Forms section mentions \"Tappable controls ≥44px\"\n- ✅ Button guidelines specify \"min target 44×44\"\n\n**Action Items:**\n\n- Update guide to explicitly mention 24×24px as WCAG 2.2 minimum\n- Note that 44×44px is recommended for better usability\n- Document exceptions (inline links, essential targets)\n\n### 4. **3.2.6 Consistent Help** (A)\n\n**Requirement:** If a help mechanism (e.g., help link, contact form) is repeated across pages, it must appear in the same relative order.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 2, "token_count": 190, "hash_short": "dc41f0b0", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_003", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "s, essential targets)\n\n### 4. **3.2.6 Consistent Help** (A)\n\n**Requirement:** If a help mechanism (e.g., help link, contact form) is repeated across pages, it must appear in the same relative order.\n\n**Current Status:**\n\n- ❓ Help mechanisms not explicitly documented\n- ❓ Need to verify help links/forms are consistently placed\n\n**Action Items:**\n\n- Document help mechanism placement patterns\n- Specify consistent location (e.g., footer, settings page)\n- Add to navigation guidelines\n\n### 5. **3.3.7 Redundant Entry** (A)\n\n**Requirement:** Information previously entered by the user must be auto-populated or available for selection, except when re-entry is essential for security or the data is no longer valid.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 3, "token_count": 177, "hash_short": "8171612a", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_004", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "y** (A)\n\n**Requirement:** Information previously entered by the user must be auto-populated or available for selection, except when re-entry is essential for security or the data is no longer valid.\n\n**Current Status:**\n\n- ✅ Forms use browser autocomplete attributes\n- ⚠️ Need to verify: registration forms, multi-step forms preserve data\n- ⚠️ Need to check: session planner, logger preserve entered data\n\n**Action Items:**\n\n- Document form data persistence patterns\n- Specify when auto-population is required vs. optional\n- Add to form guidelines: \"Preserve user input on validation errors\"\n\n### 6.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 4, "token_count": 149, "hash_short": "0577b993", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_005", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "data\n\n**Action Items:**\n\n- Document form data persistence patterns\n- Specify when auto-population is required vs. optional\n- Add to form guidelines: \"Preserve user input on validation errors\"\n\n### 6. **3.3.8 Accessible Authentication (Minimum)** (AA)\n\n**Requirement:** Cognitive function tests (e.g., remembering a password, solving a puzzle) must not be required for any step in an authentication process unless at least one of the following is true:\n\n- The cognitive function test is to recognize objects\n- The cognitive function test is to identify non-text content the user provided\n- Alternative authentication is available\n\n**Current Status:**\n\n- ✅ No CAPTCHA currently implemented\n- ✅ 2FA uses TOTP (time-based, not cognitive test)\n- ⚠️ Need to verify: password reset flows don't require cognitive tests\n- ⚠️ Need to document: if CAPTCHA is added, must provide alternatives\n\n**Action Items:**\n\n- Document authentication patterns\n- Specify: \"No cognitive function tests in authentication\"\n- Add exception handling if CAPTCHA is required (must provide alternative)", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 5, "token_count": 267, "hash_short": "3e50bbd0", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_006", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "ternatives\n\n**Action Items:**\n\n- Document authentication patterns\n- Specify: \"No cognitive function tests in authentication\"\n- Add exception handling if CAPTCHA is required (must provide alternative)\n\n\n### 7. **4.1.3 Status Messages** (AA)\n\n**Requirement:** Status messages must be programmatically determinable through role or properties, without receiving focus.\n\n**Current Status:**\n\n- ✅ StatusPill component uses `role=\"status\"` and `aria-live=\"polite\"`\n- ✅ MaintenanceBanner uses `role=\"alert\"` and `aria-live=\"assertive\"`\n- ✅ Form errors use `role=\"alert\"` in components\n- ⚠️ Need to verify: all dynamic status updates use appropriate ARIA\n\n**Action Items:**\n\n- Document status message patterns (role=\"status\" for polite, role=\"alert\" for assertive)\n- Specify when to use `aria-live=\"polite\"` vs `aria-live=\"assertive\"`\n- Add to component guidelines: \"All status messages must be programmatically determinable\"\n\n## Additional WCAG 2.2 Enhancements (AAA Level - Optional)\n\n### 8.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 6, "token_count": 246, "hash_short": "093ca814", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_007", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "ive=\"polite\"` vs `aria-live=\"assertive\"`\n- Add to component guidelines: \"All status messages must be programmatically determinable\"\n\n## Additional WCAG 2.2 Enhancements (AAA Level - Optional)\n\n### 8. **2.4.12 Focus Not Obscured (Enhanced)** (AAA)\n\n**Requirement:** When a component receives keyboard focus, no part of the focus indicator is hidden by author-created content.\n\n**Note:** This is AAA level, but good practice to follow where possible.\n\n### 9. **3.3.9 Accessible Authentication (Enhanced)** (AAA)\n\n**Requirement:** Cognitive function tests must not be required for any step in an authentication process.\n\n**Note:** Already covered by 3.3.8 (AA), but AAA removes all exceptions.\n\n## Recommended Updates to Visual Design System\n\n### Section 9: Accessibility Checklist (AA) - Update to WCAG 2.2\n\n**Current:**\n\n```markdown\n## 9) Accessibility Checklist (AA)\n\n- [ ] All text/background pairs ≥ **4.5:1** (check light & dark).\n- [ ] Focus styles: visible ring + non-color cue (glow/outline).", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 7, "token_count": 249, "hash_short": "62242dde", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_008", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "G 2.2\n\n**Current:**\n\n```markdown\n## 9) Accessibility Checklist (AA)\n\n- [ ] All text/background pairs ≥ **4.5:1** (check light & dark).\n- [ ] Focus styles: visible ring + non-color cue (glow/outline).\n- [ ] Keyboard path: login → planner → logger → export (no traps).\n- [ ] Form errors announced via ARIA; labels bound to inputs.\n- [ ] Charts include data table toggle + textual summary.\n- [ ] Pointer targets ≥44×44; spacing ≥8px between adjacent controls.\n- [ ] `prefers-reduced-motion` respected.\n```\n\n**Proposed Update:**\n\n```markdown\n## 9) Accessibility Checklist (WCAG 2.2 AA)\n\n### Perceivable\n\n- [ ] All text/background pairs ≥ **4.5:1** (check light & dark).\n- [ ] Status messages programmatically determinable (role=\"status\" or role=\"alert\").\n- [ ] Charts include data table toggle + textual summary.\n\n### Operable\n\n- [ ] Focus styles: visible ring + non-color cue (glow/outline).\n- [ ] Focus not obscured by sticky headers, modals, or overlays (2.4.11).", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 8, "token_count": 240, "hash_short": "9e7b29e8", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_009", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "include data table toggle + textual summary.\n\n### Operable\n\n- [ ] Focus styles: visible ring + non-color cue (glow/outline).\n- [ ] Focus not obscured by sticky headers, modals, or overlays (2.4.11).\n- [ ] Keyboard path: login → planner → logger → export (no traps).\n- [ ] All drag operations have keyboard alternatives (2.5.7).\n- [ ] Pointer targets ≥24×24 CSS pixels (2.5.8); recommend 44×44 for better usability.\n- [ ] Spacing ≥8px between adjacent controls.\n\n### Understandable\n\n- [ ] Form errors announced via ARIA; labels bound to inputs.\n- [ ] Help mechanisms appear in consistent location across pages (3.2.6).\n- [ ] Previously entered information auto-populated where appropriate (3.3.7).\n- [ ] No cognitive function tests in authentication (3.3.8).\n\n### Robust\n\n- [ ] `prefers-reduced-motion` respected.\n- [ ] Semantic HTML with ARIA only when necessary.", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 9, "token_count": 215, "hash_short": "812bde4e", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_010", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "lated where appropriate (3.3.7).\n- [ ] No cognitive function tests in authentication (3.3.8).\n\n### Robust\n\n- [ ] `prefers-reduced-motion` respected.\n- [ ] Semantic HTML with ARIA only when necessary.\n```\n\n### New Section: Status Messages Pattern\n\nAdd after Section 7.5 (Forms):\n\n````markdown\n### 7.6 Status Messages\n\n- **Polite updates:** Use `role=\"status\"` with `aria-live=\"polite\"` for non-critical updates (e.g., \"Session saved\", \"Loading...\").\n- **Assertive updates:** Use `role=\"alert\"` with `aria-live=\"assertive\"` for critical errors or urgent notifications.\n- **Implementation:** Status messages must be programmatically determinable without receiving focus (WCAG 2.2: 4.1.3).", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 10, "token_count": 171, "hash_short": "9b0a338d", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_011", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "ert\"` with `aria-live=\"assertive\"` for critical errors or urgent notifications.\n- **Implementation:** Status messages must be programmatically determinable without receiving focus (WCAG 2.2: 4.1.3).", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 11, "token_count": 49, "hash_short": "8733c4d1", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_012", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "**Example:**\n\n```html\n<div role=\"status\" aria-live=\"polite\" aria-label=\"Status: Online\">Online</div>\n<div role=\"alert\" aria-live=\"assertive\">Error: Invalid credentials</div>\n```\n````\n\n````\n\n### Update Section 8.4.8: Accessibility & Contrast\n\n**Add:**\n- Focus Not Obscured: Ensure focus indicators are visible and not hidden by overlays\n- Target Size: Minimum 24×24 CSS pixels (WCAG 2.2), recommend 44×44 for better usability\n- Status Messages: All dynamic status updates must use appropriate ARIA roles\n\n## Implementation Verification Checklist\n\n- [ ] Update all references from \"WCAG 2.1 AA\" to \"WCAG 2.2 AA\"\n- [ ] Verify focus indicators are not obscured by sticky headers\n- [ ] Verify all drag operations have keyboard alternatives\n- [ ] Verify help mechanisms are consistently placed\n- [ ] Verify form data persistence on errors\n- [ ] Verify authentication doesn't require cognitive tests\n- [ ] Verify all status messages use appropriate ARIA roles\n- [ ] Update accessibility tests to include WCAG 2.2 tags\n- [ ] Update ADR-020 to reference WCAG 2.2\n- [ ] Update NFR-004 to reference WCAG 2.2", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 12, "token_count": 274, "hash_short": "96149cb8", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN_chunk_013", "doc_id": ".._.._docs_6.Implementation_WCAG_2.2_UPDATE_PLAN", "text": "] Verify all status messages use appropriate ARIA roles\n- [ ] Update accessibility tests to include WCAG 2.2 tags\n- [ ] Update ADR-020 to reference WCAG 2.2\n- [ ] Update NFR-004 to reference WCAG 2.2\n\n\n## Testing Updates\n\nUpdate `tests/frontend/e2e/accessibility.spec.cjs` to include WCAG 2.2 tags:\n\n```javascript\nconst results = await new AxeBuilder({ page })\n  .withTags([\"wcag2a\", \"wcag2aa\", \"wcag22aa\"]) // Add WCAG 2.2 tags\n  .analyze();\n````\n\n## References\n\n- [WCAG 2.2 Release Notes](https://www.w3.org/WAI/standards-guidelines/wcag/new-in-22/)\n- [WCAG 2.2 Success Criteria](https://www.w3.org/WAI/WCAG22/quickref/)\n- [Focus Not Obscured (2.4.11)](https://www.w3.org/WAI/WCAG22/Understanding/focus-not-obscured-minimum.html)\n- [Target Size (2.5.8)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html)\n- [Status Messages (4.1.3)](https://www.w3.org/WAI/WCAG22/Understanding/status-messages.html)", "source_file": "../../docs/6.Implementation/WCAG_2.2_UPDATE_PLAN.md", "category": "technical", "chunk_index": 13, "token_count": 229, "hash_short": "94d83a58", "version": 1.0, "title": "WCAG 2.2 Update Plan for Visual Design System", "mtime": "2025-11-29T17:08:58.607397", "ingested_at": "2025-11-30T04:00:43.978619", "tags": ["technical", "md"]}
