{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_000", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "# FitVibe User Stories\n\n**Version**: 1.0\n**Created**: 2025-01-21\n**Status**: Planning\n**Owner**: Development Team\n\n---\n\n\n## Overview\n\nThis document groups activities from the Epics and Activities document into user stories. Each user story represents a deliverable feature that provides value to users or the system.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 0, "token_count": 79, "hash_short": "bb7d13e8", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_001", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "## Overview\n\nThis document groups activities from the Epics and Activities document into user stories. Each user story represents a deliverable feature that provides value to users or the system.\n\n### User Story Format\n\n- **As a** [user type]\n- **I want** [goal]\n- **So that** [benefit]\n\n---\n\n## Epic 1: Profile & Settings (FR-009)\n\n### US-1.1: Edit Profile Information\n\n**As a** user\n**I want** to edit my profile information (alias, weight, fitness level, training frequency)\n**So that** I can keep my profile up to date and personalize my experience\n\n**Activities:**\n\n- E1-A1: Profile Edit API\n- E1-A2: Profile Validation\n- E1-A3: Immutable Fields Protection\n- E1-A6: Profile Edit Frontend\n\n**Story Points**: 5\n**Priority**: Medium\n**Dependencies**: FR-001, FR-002\n\n**Acceptance Criteria:**\n\n- **US-1.1-AC01**: Users can edit alias, weight, fitness level, and training frequency via API endpoint PATCH /api/v1/users/me within ≤500ms response time.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 1, "token_count": 237, "hash_short": "00e8ba62", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_002", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "FR-001, FR-002\n\n**Acceptance Criteria:**\n\n- **US-1.1-AC01**: Users can edit alias, weight, fitness level, and training frequency via API endpoint PATCH /api/v1/users/me within ≤500ms response time.\n  - Test Method: Integration + E2E\n  - Evidence: API response times, DB snapshot, UI screenshots\n\n- **US-1.1-AC02**: Profile field validation: alias max 32 chars, weight range 20-400 kg (or equivalent in lbs), fitness level enum (beginner/intermediate/advanced/elite), training frequency enum (rarely/1_2_per_week/3_4_per_week/5_plus_per_week). Invalid values rejected with 422 and clear error messages.\n  - Test Method: Unit + API negative\n  - Evidence: Validation test results, error message samples\n\n- **US-1.1-AC03**: Immutable fields (date_of_birth, gender) cannot be modified; attempts return 403 Forbidden with error code E.USER.IMMUTABLE_FIELD.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 2, "token_count": 212, "hash_short": "e48c1398", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_003", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Validation test results, error message samples\n\n- **US-1.1-AC03**: Immutable fields (date_of_birth, gender) cannot be modified; attempts return 403 Forbidden with error code E.USER.IMMUTABLE_FIELD.\n  - Test Method: API negative\n  - Evidence: HTTP traces, error responses\n\n- **US-1.1-AC04**: Weight is stored internally as kg (weight_kg) regardless of user's preferred unit; UI converts for display based on user's weight_unit preference.\n  - Test Method: Integration\n  - Evidence: DB records, UI conversion tests\n\n- **US-1.1-AC05**: Profile changes are audit-logged with who/when/what; state history records created for each field change.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 3, "token_count": 159, "hash_short": "b11ed1c1", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_004", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Test Method: Integration\n  - Evidence: DB records, UI conversion tests\n\n- **US-1.1-AC05**: Profile changes are audit-logged with who/when/what; state history records created for each field change.\n  - Test Method: Integration\n  - Evidence: Audit log excerpts, state history records\n\n---\n\n### US-1.2: Upload and Manage Avatar\n\n**As a** user\n**I want** to upload and manage my profile avatar\n**So that** I can personalize my profile with my photo\n\n**Activities:**\n\n- E1-A4: Avatar Upload Backend\n- E1-A5: Avatar Preview Generation\n- E1-A7: Avatar Upload Frontend\n\n**Story Points**: 5\n**Priority**: Medium\n**Dependencies**: US-1.1, NFR-001\n\n**Acceptance Criteria:**\n\n- **US-1.2-AC01**: Users can upload avatar images via POST /api/v1/users/me/avatar; accepted formats: JPEG, PNG, WebP; max size 5MB; rejected with 422 if invalid.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 4, "token_count": 206, "hash_short": "ec395a10", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_005", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "NFR-001\n\n**Acceptance Criteria:**\n\n- **US-1.2-AC01**: Users can upload avatar images via POST /api/v1/users/me/avatar; accepted formats: JPEG, PNG, WebP; max size 5MB; rejected with 422 if invalid.\n  - Test Method: Integration\n  - Evidence: Upload logs, error responses for invalid files\n\n- **US-1.2-AC02**: Uploaded avatars are scanned for malware using antivirus service; infected files rejected with E.UPLOAD.MALWARE_DETECTED and audit logged.\n  - Test Method: Integration\n  - Evidence: AV scan logs, EICAR test file rejection\n\n- **US-1.2-AC03**: System generates 128×128 pixel preview image from uploaded avatar within ≤2s; preview stored and served at /users/avatar/:id endpoint.\n  - Test Method: Integration\n  - Evidence: Preview images, performance metrics, storage verification\n\n- **US-1.2-AC04**: Users without avatars see a default placeholder image; placeholder is accessible and properly sized.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 5, "token_count": 226, "hash_short": "fa945c8f", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_006", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "tion\n  - Evidence: Preview images, performance metrics, storage verification\n\n- **US-1.2-AC04**: Users without avatars see a default placeholder image; placeholder is accessible and properly sized.\n  - Test Method: E2E\n  - Evidence: UI screenshots showing placeholder\n\n- **US-1.2-AC05**: Avatar upload is idempotent via Idempotency-Key header; duplicate uploads return same result with Idempotent-Replayed header.\n  - Test Method: Integration\n  - Evidence: Idempotency test results, HTTP headers\n\n---\n\n### US-1.3: Profile Testing\n\n**As a** developer\n**I want** comprehensive tests for profile features\n**So that** I can ensure profile functionality works correctly\n\n**Activities:**\n\n- E1-A8: Profile Tests\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: US-1.1, US-1.2\n\n**Acceptance Criteria:**\n\n- **US-1.3-AC01**: Unit tests cover profile field validation, immutable field protection, and weight unit conversion with ≥90% code coverage.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 6, "token_count": 237, "hash_short": "9c3e300b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_007", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "pendencies**: US-1.1, US-1.2\n\n**Acceptance Criteria:**\n\n- **US-1.3-AC01**: Unit tests cover profile field validation, immutable field protection, and weight unit conversion with ≥90% code coverage.\n  - Test Method: Unit\n  - Evidence: Test coverage reports\n\n- **US-1.3-AC02**: Integration tests verify profile update API, avatar upload flow, and error handling scenarios.\n  - Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-1.3-AC03**: E2E tests verify complete profile editing workflow including form validation, submission, and persistence.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 7, "token_count": 141, "hash_short": "19f94eb6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_008", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "s.\n  - Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-1.3-AC03**: E2E tests verify complete profile editing workflow including form validation, submission, and persistence.\n  - Test Method: E2E\n  - Evidence: E2E test results, UI screenshots\n\n---\n\n## Epic 2: Exercise Library (FR-010)\n\n### US-2.1: Create and Manage Personal Exercises\n\n**As a** user\n**I want** to create and manage my personal exercises\n**So that** I can track custom exercises not in the global library\n\n**Activities:**\n\n- E2-A1: Exercise CRUD API\n- E2-A2: Exercise Archival\n- E2-A3: Exercise Visibility Model\n- E2-A7: Exercise Library Frontend\n\n**Story Points**: 8\n**Priority**: Medium\n**Dependencies**: FR-001, FR-002, FR-008\n\n**Acceptance Criteria:**\n\n- **US-2.1-AC01**: Users can create exercises via POST /api/v1/exercises with required fields (name, type_code) and optional fields (muscle_group, equipment, tags, description); exercise saved within ≤500ms.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 8, "token_count": 238, "hash_short": "846807b7", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_009", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "-AC01**: Users can create exercises via POST /api/v1/exercises with required fields (name, type_code) and optional fields (muscle_group, equipment, tags, description); exercise saved within ≤500ms.\n  - Test Method: Integration + E2E\n  - Evidence: DB snapshot, UI screenshots, API response times\n\n- **US-2.1-AC02**: Users can update their own exercises via PATCH /api/v1/exercises/:id; edits preserve historical accuracy; unauthorized edits return 403.\n  - Test Method: Integration + E2E\n  - Evidence: Update tests, access control verification\n\n- **US-2.1-AC03**: Exercises can be archived (soft delete) via DELETE /api/v1/exercises/:id; archived exercises have archived_at timestamp set; they are hidden from selectors but retained in database.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 9, "token_count": 186, "hash_short": "f67da881", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_010", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "*US-2.1-AC03**: Exercises can be archived (soft delete) via DELETE /api/v1/exercises/:id; archived exercises have archived_at timestamp set; they are hidden from selectors but retained in database.\n  - Test Method: Integration + E2E\n  - Evidence: DB records, UI showing archived exercises not in selectors\n\n- **US-2.1-AC04**: Exercise visibility model: private (default, owner_id = user_id) or public (is_public = true); private exercises only visible to creator.\n  - Test Method: Integration + E2E\n  - Evidence: Access control tests, UI screenshots\n\n- **US-2.1-AC05**: Exercise name uniqueness enforced per owner: (owner_id, normalized_name) unique constraint; duplicate names rejected with 409 CONFLICT.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 10, "token_count": 176, "hash_short": "2e0e9900", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_011", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "nce: Access control tests, UI screenshots\n\n- **US-2.1-AC05**: Exercise name uniqueness enforced per owner: (owner_id, normalized_name) unique constraint; duplicate names rejected with 409 CONFLICT.\n  - Test Method: Unit + API negative\n  - Evidence: Uniqueness test results, error responses\n\n---\n\n### US-2.2: Discover Public Exercises\n\n**As a** user\n**I want** to search and discover public exercises\n**So that** I can find exercises created by other users\n\n**Activities:**\n\n- E2-A4: Exercise Search & Discovery\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-2.1\n\n**Acceptance Criteria:**\n\n- **US-2.2-AC01**: Users can search public exercises via GET /api/v1/exercises?is_public=true&q=searchterm with pagination (default 20, max 100).\n  - Test Method: E2E\n  - Evidence: Search results, API response times\n\n- **US-2.2-AC02**: Exercise search supports filtering by category (type_code), muscle_group, equipment, and tags; filters can be combined.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 11, "token_count": 240, "hash_short": "de99c537", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_012", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "hod: E2E\n  - Evidence: Search results, API response times\n\n- **US-2.2-AC02**: Exercise search supports filtering by category (type_code), muscle_group, equipment, and tags; filters can be combined.\n  - Test Method: E2E\n  - Evidence: Filter UI screenshots, filtered search results\n\n- **US-2.2-AC03**: Search results are sorted by relevance (name match) or date; empty results return empty array with 200 status.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 12, "token_count": 102, "hash_short": "4f135fe3", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_013", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ": E2E\n  - Evidence: Filter UI screenshots, filtered search results\n\n- **US-2.2-AC03**: Search results are sorted by relevance (name match) or date; empty results return empty array with 200 status.\n  - Test Method: E2E\n  - Evidence: Search result ordering, empty result handling\n\n---\n\n### US-2.3: Exercise History Preservation\n\n**As a** user\n**I want** exercise names to be preserved in historical sessions\n**So that** my past workout records remain accurate even if exercises are modified\n\n**Activities:**\n\n- E2-A5: Exercise Snapshot on Session Use\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: US-2.1, FR-004\n\n**Acceptance Criteria:**\n\n- **US-2.3-AC01**: When an exercise is used in a session, exercise name is stored as snapshot in session_exercises.exercise_name field; snapshot persists even if exercise is later modified or archived.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 13, "token_count": 213, "hash_short": "1512b1a0", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_014", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "US-2.3-AC01**: When an exercise is used in a session, exercise name is stored as snapshot in session_exercises.exercise_name field; snapshot persists even if exercise is later modified or archived.\n  - Test Method: Integration\n  - Evidence: DB records showing snapshot preservation, exercise modification tests\n\n- **US-2.3-AC02**: Historical sessions display exercise name from snapshot, not current exercise name; exercise changes do not affect past session records.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 14, "token_count": 116, "hash_short": "c540d860", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_015", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "reservation, exercise modification tests\n\n- **US-2.3-AC02**: Historical sessions display exercise name from snapshot, not current exercise name; exercise changes do not affect past session records.\n  - Test Method: Integration + E2E\n  - Evidence: Historical session display tests, exercise modification verification\n\n---\n\n### US-2.4: Admin Global Exercise Management\n\n**As an** administrator\n**I want** to create and manage global exercises\n**So that** all users have access to a standard exercise library\n\n**Activities:**\n\n- E2-A6: Global Exercise Management\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: US-2.1, FR-008\n\n**Acceptance Criteria:**\n\n- **US-2.4-AC01**: Administrators can create global exercises (owner_id = null) via POST /api/v1/exercises with admin role; global exercises are accessible to all users.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 15, "token_count": 207, "hash_short": "d991a799", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_016", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "**Acceptance Criteria:**\n\n- **US-2.4-AC01**: Administrators can create global exercises (owner_id = null) via POST /api/v1/exercises with admin role; global exercises are accessible to all users.\n  - Test Method: Integration + E2E\n  - Evidence: Admin UI screenshots, access control tests\n\n- **US-2.4-AC02**: Administrators can edit and archive global exercises; non-admin users cannot modify global exercises (403 Forbidden).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 16, "token_count": 106, "hash_short": "dd67913d", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_017", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "2E\n  - Evidence: Admin UI screenshots, access control tests\n\n- **US-2.4-AC02**: Administrators can edit and archive global exercises; non-admin users cannot modify global exercises (403 Forbidden).\n  - Test Method: Integration + E2E\n  - Evidence: Admin edit tests, non-admin access denial\n\n---\n\n### US-2.5: Exercise Selector Integration\n\n**As a** user\n**I want** to select exercises from the library when planning or logging sessions\n**So that** I can easily add exercises to my workouts\n\n**Activities:**\n\n- E2-A8: Exercise Selector Integration\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-2.1, FR-004, FR-005\n\n**Acceptance Criteria:**\n\n- **US-2.5-AC01**: Exercise selector in Planner and Logger displays user's personal exercises, global exercises, and public exercises; archived exercises are excluded.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 17, "token_count": 205, "hash_short": "2a8746da", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_018", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "05\n\n**Acceptance Criteria:**\n\n- **US-2.5-AC01**: Exercise selector in Planner and Logger displays user's personal exercises, global exercises, and public exercises; archived exercises are excluded.\n  - Test Method: E2E\n  - Evidence: Exercise selector UI screenshots, exercise list verification\n\n- **US-2.5-AC02**: Exercise selector supports search and filtering; selected exercise is added to session with proper reference.\n  - Test Method: E2E\n  - Evidence: Selector search tests, exercise addition verification\n\n---\n\n### US-2.6: Exercise Library Testing\n\n**As a** developer\n**I want** comprehensive tests for exercise library features\n**So that** I can ensure exercise management works correctly\n\n**Activities:**\n\n- E2-A9: Exercise Tests\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: US-2.1, US-2.7\n\n**Acceptance Criteria:**\n\n- **US-2.6-AC01**: Unit tests cover exercise CRUD operations, archival, visibility model, and uniqueness constraints with ≥90% code coverage.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 18, "token_count": 245, "hash_short": "6c097879", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_019", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "pendencies**: US-2.1, US-2.7\n\n**Acceptance Criteria:**\n\n- **US-2.6-AC01**: Unit tests cover exercise CRUD operations, archival, visibility model, and uniqueness constraints with ≥90% code coverage.\n  - Test Method: Unit\n  - Evidence: Test coverage reports\n\n- **US-2.6-AC02**: Integration tests verify exercise creation, editing, archival, search, and access control scenarios.\n  - Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-2.6-AC03**: E2E tests verify complete exercise management workflow including creation, search, selection, and archival.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 19, "token_count": 143, "hash_short": "12d07561", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_020", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ".\n  - Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-2.6-AC03**: E2E tests verify complete exercise management workflow including creation, search, selection, and archival.\n  - Test Method: E2E\n  - Evidence: E2E test results, UI screenshots\n\n---\n\n## Epic 3: Sharing & Community (FR-011)\n\n### US-3.1: Public Feed\n\n**As a** user\n**I want** to browse a public feed of shared training sessions\n**So that** I can discover workouts and get inspiration from the community\n\n**Activities:**\n\n- E3-A1: Public Feed API\n- E3-A9: Feed Frontend\n\n**Story Points**: 7\n**Priority**: Medium\n**Dependencies**: FR-001, FR-002, FR-004\n\n**Acceptance Criteria:**\n\n- **US-3.1-AC01**: Authenticated users can access public feed via GET /api/v1/feed?scope=public with pagination (default 20 items per page, max 100); feed returns public sessions only.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 20, "token_count": 212, "hash_short": "48db7808", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_021", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Criteria:**\n\n- **US-3.1-AC01**: Authenticated users can access public feed via GET /api/v1/feed?scope=public with pagination (default 20 items per page, max 100); feed returns public sessions only.\n  - Test Method: Integration + E2E\n  - Evidence: Feed API responses, pagination tests, UI screenshots\n\n- **US-3.1-AC02**: Feed supports search via ?q=keyword parameter; search matches session titles, exercise names, and user aliases.\n  - Test Method: E2E\n  - Evidence: Search functionality tests, search result screenshots\n\n- **US-3.1-AC03**: Feed supports sorting by date (default), popularity (likes), and relevance; sort parameter ?sort=date|popularity|relevance.\n  - Test Method: E2E\n  - Evidence: Sort functionality tests, sorted feed screenshots\n\n- **US-3.1-AC04**: Feed response time p95 ≤400ms per PRD performance targets; feed is cached for 30s via NGINX edge caching.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 21, "token_count": 218, "hash_short": "16128b86", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_022", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "od: E2E\n  - Evidence: Sort functionality tests, sorted feed screenshots\n\n- **US-3.1-AC04**: Feed response time p95 ≤400ms per PRD performance targets; feed is cached for 30s via NGINX edge caching.\n  - Test Method: Performance\n  - Evidence: Performance metrics, cache hit ratio\n\n---\n\n### US-3.2: Share Sessions\n\n**As a** user\n**I want** to make my sessions public or private\n**So that** I can control who sees my workouts\n\n**Activities:**\n\n- E3-A2: Session Visibility Toggle\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: FR-004, NFR-002\n\n**Acceptance Criteria:**\n\n- **US-3.2-AC01**: Users can toggle session visibility (private/public) via PATCH /api/v1/sessions/:id with visibility field; default is private.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 22, "token_count": 180, "hash_short": "b4986801", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_023", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ncies**: FR-004, NFR-002\n\n**Acceptance Criteria:**\n\n- **US-3.2-AC01**: Users can toggle session visibility (private/public) via PATCH /api/v1/sessions/:id with visibility field; default is private.\n  - Test Method: Integration + E2E\n  - Evidence: Visibility toggle tests, API responses\n\n- **US-3.2-AC02**: Switching session from private to public makes it visible in feed within ≤2s; switching from public to private removes it from feed immediately; past private data never leaked.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 23, "token_count": 120, "hash_short": "0dfce7fa", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_024", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- **US-3.2-AC02**: Switching session from private to public makes it visible in feed within ≤2s; switching from public to private removes it from feed immediately; past private data never leaked.\n  - Test Method: Integration + Security\n  - Evidence: Privacy tests, data leakage verification, feed update timing\n\n---\n\n### US-3.3: Like and Bookmark Sessions\n\n**As a** user\n**I want** to like and bookmark public sessions\n**So that** I can save interesting workouts for later\n\n**Activities:**\n\n- E3-A3: Like/Unlike API\n- E3-A4: Bookmark API\n- E3-A10: Social Interactions Frontend (partial)\n\n**Story Points**: 4\n**Priority**: Medium\n**Dependencies**: US-3.1\n\n**Acceptance Criteria:**\n\n- **US-3.3-AC01**: Users can like/unlike public sessions via POST /api/v1/feed/item/:feedItemId/like and DELETE /api/v1/feed/item/:feedItemId/like; like action is idempotent.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 24, "token_count": 213, "hash_short": "70cc8653", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_025", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "cceptance Criteria:**\n\n- **US-3.3-AC01**: Users can like/unlike public sessions via POST /api/v1/feed/item/:feedItemId/like and DELETE /api/v1/feed/item/:feedItemId/like; like action is idempotent.\n  - Test Method: Integration + E2E\n  - Evidence: Like button tests, API responses, idempotency verification\n\n- **US-3.3-AC02**: Like counts update in real-time within ≤500ms; like count displayed on feed items and session details.\n  - Test Method: Integration + E2E\n  - Evidence: Count update tests, UI screenshots, API response times\n\n- **US-3.3-AC03**: Users can bookmark/unbookmark sessions via POST /api/v1/sessions/:id/bookmark and DELETE /api/v1/sessions/:id/bookmark; bookmarks are idempotent.\n  - Test Method: E2E\n  - Evidence: Bookmark UI screenshots, bookmark functionality tests\n\n- **US-3.3-AC04**: Users can view their bookmarked sessions via GET /api/v1/users/me/bookmarks with pagination.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 25, "token_count": 225, "hash_short": "90bf78e7", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_026", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Test Method: E2E\n  - Evidence: Bookmark UI screenshots, bookmark functionality tests\n\n- **US-3.3-AC04**: Users can view their bookmarked sessions via GET /api/v1/users/me/bookmarks with pagination.\n  - Test Method: E2E\n  - Evidence: Bookmark collection view tests, UI screenshots\n\n---\n\n### US-3.4: Comment on Sessions\n\n**As a** user\n**I want** to comment on public sessions\n**So that** I can engage with the community and provide feedback\n\n**Activities:**\n\n- E3-A5: Comments API\n- E3-A10: Social Interactions Frontend (partial)\n\n**Story Points**: 4\n**Priority**: Medium\n**Dependencies**: US-3.1\n\n**Acceptance Criteria:**\n\n- **US-3.4-AC01**: Users can comment on public sessions via POST /api/v1/feed/item/:feedItemId/comments with body (plain text, max 500 chars); comments are idempotent.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 26, "token_count": 197, "hash_short": "08d5ed44", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_027", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ".1\n\n**Acceptance Criteria:**\n\n- **US-3.4-AC01**: Users can comment on public sessions via POST /api/v1/feed/item/:feedItemId/comments with body (plain text, max 500 chars); comments are idempotent.\n  - Test Method: E2E\n  - Evidence: Comment UI screenshots, comment creation tests\n\n- **US-3.4-AC02**: Comments are displayed with author info, timestamp, and proper formatting; comments list paginated (default 20 per page).\n  - Test Method: E2E\n  - Evidence: Comment display tests, comment list screenshots\n\n- **US-3.4-AC03**: Comment owners and session owners can delete comments via DELETE /api/v1/comments/:commentId; deleted comments are soft-deleted (deleted_at set).\n  - Test Method: E2E\n  - Evidence: Comment deletion tests, access control verification\n\n- **US-3.4-AC04**: Comment rate limiting: 20 comments per hour per user; exceeding limit returns 429 with Retry-After header.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 27, "token_count": 221, "hash_short": "0eb50a3b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_028", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "E2E\n  - Evidence: Comment deletion tests, access control verification\n\n- **US-3.4-AC04**: Comment rate limiting: 20 comments per hour per user; exceeding limit returns 429 with Retry-After header.\n  - Test Method: Integration\n  - Evidence: Rate limit tests, HTTP headers\n\n---\n\n### US-3.5: Follow Users\n\n**As a** user\n**I want** to follow other users\n**So that** I can see their workouts in my feed\n\n**Activities:**\n\n- E3-A6: Follow/Unfollow API\n- E3-A10: Social Interactions Frontend (partial)\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: FR-009\n\n**Acceptance Criteria:**\n\n- **US-3.5-AC01**: Users can follow/unfollow other users via POST /api/v1/users/:alias/follow and DELETE /api/v1/users/:alias/follow; users cannot follow themselves (422 error).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 28, "token_count": 191, "hash_short": "4f4e6996", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_029", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ptance Criteria:**\n\n- **US-3.5-AC01**: Users can follow/unfollow other users via POST /api/v1/users/:alias/follow and DELETE /api/v1/users/:alias/follow; users cannot follow themselves (422 error).\n  - Test Method: Integration + E2E\n  - Evidence: Follow button tests, follower count tests, self-follow prevention\n\n- **US-3.5-AC02**: Follower and following counts update correctly; counts displayed on user profiles; GET /api/v1/users/:alias/followers and /following return paginated lists.\n  - Test Method: Integration + E2E\n  - Evidence: Follower count tests, UI screenshots, API responses\n\n- **US-3.5-AC03**: Follow rate limiting: 50 follows per day per user; exceeding limit returns 429.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 29, "token_count": 172, "hash_short": "635feb84", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_030", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Test Method: Integration + E2E\n  - Evidence: Follower count tests, UI screenshots, API responses\n\n- **US-3.5-AC03**: Follow rate limiting: 50 follows per day per user; exceeding limit returns 429.\n  - Test Method: Integration\n  - Evidence: Rate limit tests\n\n---\n\n### US-3.6: Clone Sessions\n\n**As a** user\n**I want** to clone public sessions into my planner\n**So that** I can use workouts created by others\n\n**Activities:**\n\n- E3-A7: Session Cloning\n- E3-A11: Session Cloning Frontend\n\n**Story Points**: 4\n**Priority**: Medium\n**Dependencies**: FR-004, US-3.1\n\n**Acceptance Criteria:**\n\n- **US-3.6-AC01**: Users can clone public sessions via POST /api/v1/sessions/:id/clone or POST /api/v1/feed/session/:sessionId/clone; cloned session created as planned session for current user.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 30, "token_count": 194, "hash_short": "dc205906", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_031", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "**\n\n- **US-3.6-AC01**: Users can clone public sessions via POST /api/v1/sessions/:id/clone or POST /api/v1/feed/session/:sessionId/clone; cloned session created as planned session for current user.\n  - Test Method: Integration + E2E\n  - Evidence: Clone functionality tests, cloned session verification\n\n- **US-3.6-AC02**: Cloned sessions preserve attribution: source_session_id or metadata field contains original session ID and creator info; attribution visible in UI.\n  - Test Method: Integration + E2E\n  - Evidence: Attribution verification, UI screenshots showing attribution\n\n- **US-3.6-AC03**: Users can modify cloned sessions (title, date, exercises, sets); modifications do not affect original session.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 31, "token_count": 177, "hash_short": "343d893d", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_032", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ence: Attribution verification, UI screenshots showing attribution\n\n- **US-3.6-AC03**: Users can modify cloned sessions (title, date, exercises, sets); modifications do not affect original session.\n  - Test Method: E2E\n  - Evidence: Modification tests, original session preservation\n\n---\n\n### US-3.7: Report Content\n\n**As a** user\n**I want** to report inappropriate content\n**So that** administrators can moderate the community\n\n**Activities:**\n\n- E3-A8: Content Reporting\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-3.1, FR-008\n\n**Acceptance Criteria:**\n\n- **US-3.7-AC01**: Users can report inappropriate content (sessions or comments) via POST /api/v1/feed/report with reason and details; reports are idempotent.\n  - Test Method: Integration + E2E\n  - Evidence: Report UI screenshots, report creation tests\n\n- **US-3.7-AC02**: Reports appear in admin moderation queue; admins can view reports via GET /api/v1/admin/reports with filtering and pagination.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 32, "token_count": 243, "hash_short": "5f5e61d1", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_033", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ence: Report UI screenshots, report creation tests\n\n- **US-3.7-AC02**: Reports appear in admin moderation queue; admins can view reports via GET /api/v1/admin/reports with filtering and pagination.\n  - Test Method: Integration + E2E\n  - Evidence: Admin queue tests, report list screenshots\n\n- **US-3.7-AC03**: Report rate limiting: 10 reports per day per user; exceeding limit returns 429.\n  - Test Method: Integration\n  - Evidence: Rate limit tests\n\n---\n\n### US-3.8: Social Features Testing\n\n**As a** developer\n**I want** comprehensive tests for social features\n**So that** I can ensure community features work correctly\n\n**Activities:**\n\n- E3-A12: Social Features Tests\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-3.1, US-3.3, US-3.4, US-3.5\n\n**Acceptance Criteria:**\n\n- **US-3.8-AC01**: Unit tests cover like, bookmark, comment, follow, and clone operations with ≥90% code coverage.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 33, "token_count": 226, "hash_short": "69187cb4", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_034", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Medium\n**Dependencies**: US-3.1, US-3.3, US-3.4, US-3.5\n\n**Acceptance Criteria:**\n\n- **US-3.8-AC01**: Unit tests cover like, bookmark, comment, follow, and clone operations with ≥90% code coverage.\n  - Test Method: Unit\n  - Evidence: Test coverage reports\n\n- **US-3.8-AC02**: Integration tests verify feed access, social interactions, cloning, and reporting scenarios.\n  - Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-3.8-AC03**: E2E tests verify complete social workflow including feed browsing, liking, commenting, following, and cloning.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 34, "token_count": 141, "hash_short": "5d3c682b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_035", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-3.8-AC03**: E2E tests verify complete social workflow including feed browsing, liking, commenting, following, and cloning.\n  - Test Method: E2E\n  - Evidence: E2E test results, UI screenshots\n\n---\n\n## Epic 4: Planner Completion (FR-004)\n\n### US-4.1: Plan Management\n\n**As a** user\n**I want** to create, edit, and delete training plans\n**So that** I can organize my workouts over time\n\n**Activities:**\n\n- E4-A1: Plan CRUD API\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: FR-001, FR-002\n\n**Acceptance Criteria:**\n\n- **US-4.1-AC01**: Users can create training plans via POST /api/v1/plans with name, start_date, end_date; plan saved within ≤500ms.\n  - Test Method: Integration\n  - Evidence: DB snapshot, API response times\n\n- **US-4.1-AC02**: Users can update plans via PATCH /api/v1/plans/:id; updates persist and visible after reload.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 35, "token_count": 230, "hash_short": "7614afc9", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_036", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "≤500ms.\n  - Test Method: Integration\n  - Evidence: DB snapshot, API response times\n\n- **US-4.1-AC02**: Users can update plans via PATCH /api/v1/plans/:id; updates persist and visible after reload.\n  - Test Method: Integration\n  - Evidence: Update tests, persistence verification\n\n- **US-4.1-AC03**: Users can delete plans via DELETE /api/v1/plans/:id; deletion is soft-delete (archived_at set); associated sessions are not deleted.\n  - Test Method: Integration\n  - Evidence: Deletion tests, session preservation verification\n\n- **US-4.1-AC04**: Plan concurrency: last-writer-wins with ETag support; stale ETag returns 412 Precondition Failed with conflict banner.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 36, "token_count": 165, "hash_short": "599ba72c", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_037", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "vidence: Deletion tests, session preservation verification\n\n- **US-4.1-AC04**: Plan concurrency: last-writer-wins with ETag support; stale ETag returns 412 Precondition Failed with conflict banner.\n  - Test Method: Integration\n  - Evidence: ETag headers, concurrency test results\n\n---\n\n### US-4.2: Activate Plans and Generate Sessions\n\n**As a** user\n**I want** to activate a plan and have sessions automatically generated\n**So that** I can follow a structured training program\n\n**Activities:**\n\n- E4-A2: Plan Activation & Session Generation\n- E4-A3: Plan Progress Tracking\n\n**Story Points**: 7\n**Priority**: Medium\n**Dependencies**: US-4.1, FR-004\n\n**Acceptance Criteria:**\n\n- **US-4.2-AC01**: Users can activate a plan via POST /api/v1/plans/:id/activate; activation generates scheduled sessions based on plan template and recurrence rules.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 37, "token_count": 210, "hash_short": "c0cfb6b6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_038", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "004\n\n**Acceptance Criteria:**\n\n- **US-4.2-AC01**: Users can activate a plan via POST /api/v1/plans/:id/activate; activation generates scheduled sessions based on plan template and recurrence rules.\n  - Test Method: Integration\n  - Evidence: Activation tests, generated sessions verification\n\n- **US-4.2-AC02**: Plan progress tracking: progress_percent calculated as (completed_count / session_count) \\* 100; progress updates when sessions are completed.\n  - Test Method: Integration\n  - Evidence: Progress calculation tests, progress update verification\n\n- **US-4.2-AC03**: Plan duration validation: duration_weeks ∈ [1..52]; target_frequency ∈ [1..7] sessions per week; invalid values rejected with 422.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 38, "token_count": 176, "hash_short": "a4a7b453", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_039", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "alculation tests, progress update verification\n\n- **US-4.2-AC03**: Plan duration validation: duration_weeks ∈ [1..52]; target_frequency ∈ [1..7] sessions per week; invalid values rejected with 422.\n  - Test Method: Unit + API negative\n  - Evidence: Validation test results, error responses\n\n---\n\n### US-4.3: Drag-and-Drop Calendar Scheduling\n\n**As a** user\n**I want** to schedule sessions using drag-and-drop on a calendar\n**So that** I can easily plan my workouts visually\n\n**Activities:**\n\n- E4-A4: Drag-and-Drop Calendar\n- E4-A5: Conflict Detection\n- E4-A6: Planner Frontend\n\n**Story Points**: 8\n**Priority**: Medium\n**Dependencies**: US-4.1, FR-004\n\n**Acceptance Criteria:**\n\n- **US-4.3-AC01**: Drag-and-drop scheduling updates session planned_at without full page reload; calendar re-renders within ≤150ms on modern desktop.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 39, "token_count": 207, "hash_short": "13cea72c", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_040", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "es**: US-4.1, FR-004\n\n**Acceptance Criteria:**\n\n- **US-4.3-AC01**: Drag-and-drop scheduling updates session planned_at without full page reload; calendar re-renders within ≤150ms on modern desktop.\n  - Test Method: E2E\n  - Evidence: Performance traces, drag-and-drop functionality tests\n\n- **US-4.3-AC02**: Overlapping sessions detected client-side before save with actionable error message and visual highlight of conflicts.\n  - Test Method: Unit + E2E\n  - Evidence: Conflict detection tests, UI screenshots\n\n- **US-4.3-AC03**: Server re-validates session overlaps; rejects with 422 and returns conflicting session IDs in error response.\n  - Test Method: API negative\n  - Evidence: HTTP traces, error responses with conflict details\n\n- **US-4.3-AC04**: Calendar view displays sessions with proper time slots, colors, and labels; supports month/week/day views.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 40, "token_count": 215, "hash_short": "fe0e7326", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_041", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ative\n  - Evidence: HTTP traces, error responses with conflict details\n\n- **US-4.3-AC04**: Calendar view displays sessions with proper time slots, colors, and labels; supports month/week/day views.\n  - Test Method: E2E\n  - Evidence: Calendar UI screenshots, view switching tests\n\n---\n\n### US-4.4: Mobile Calendar Support\n\n**As a** mobile user\n**I want** to use touch gestures to schedule sessions\n**So that** I can plan workouts on my phone\n\n**Activities:**\n\n- E4-A7: Mobile Touch Gestures\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-4.3\n\n**Acceptance Criteria:**\n\n- **US-4.4-AC01**: Mobile drag/resize works via touch gestures (touchstart, touchmove, touchend); no scroll-jank with long tasks >50ms.\n  - Test Method: E2E mobile emu\n  - Evidence: Performance traces, touch gesture tests\n\n- **US-4.4-AC02**: Touch gestures are responsive and provide visual feedback; calendar is usable on mobile devices (screen width ≥320px).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 41, "token_count": 236, "hash_short": "ffffae51", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_042", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "emu\n  - Evidence: Performance traces, touch gesture tests\n\n- **US-4.4-AC02**: Touch gestures are responsive and provide visual feedback; calendar is usable on mobile devices (screen width ≥320px).\n  - Test Method: E2E mobile emu\n  - Evidence: Mobile UI screenshots, usability tests\n\n---\n\n### US-4.5: Planner Testing\n\n**As a** developer\n**I want** comprehensive tests for planner features\n**So that** I can ensure planning functionality works correctly\n\n**Activities:**\n\n- E4-A8: Planner Tests\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-4.3\n\n**Acceptance Criteria:**\n\n- **US-4.5-AC01**: Unit tests cover plan CRUD, activation, session generation, and progress tracking with ≥90% code coverage.\n  - Test Method: Unit\n  - Evidence: Test coverage reports\n\n- **US-4.5-AC02**: Integration tests verify plan management, activation flow, conflict detection, and progress calculation.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 42, "token_count": 223, "hash_short": "0543794f", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_043", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "code coverage.\n  - Test Method: Unit\n  - Evidence: Test coverage reports\n\n- **US-4.5-AC02**: Integration tests verify plan management, activation flow, conflict detection, and progress calculation.\n  - Test Method: Integration\n  - Evidence: Integration test results\n\n- **US-4.5-AC03**: E2E tests verify complete planner workflow including drag-and-drop, conflict detection, and mobile touch gestures.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 43, "token_count": 100, "hash_short": "2441b2ce", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_044", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "est Method: Integration\n  - Evidence: Integration test results\n\n- **US-4.5-AC03**: E2E tests verify complete planner workflow including drag-and-drop, conflict detection, and mobile touch gestures.\n  - Test Method: E2E\n  - Evidence: E2E test results, UI screenshots\n\n---\n\n## Epic 5: Logging & Import (FR-005)\n\n### US-5.1: Manual Session Logging\n\n**As a** user\n**I want** to manually log my workout sessions with metrics\n**So that** I can track my performance\n\n**Activities:**\n\n- E5-A1: Session Logging API\n- E5-A7: Logger Frontend\n\n**Story Points**: 5\n**Priority**: Medium\n**Dependencies**: FR-004\n\n**Acceptance Criteria:**\n\n- **US-5.1-AC01**: Users can log session metrics (duration, distance, heart rate, sets, reps, weight) via PATCH /api/v1/sessions/:id with status='completed'; metrics saved within ≤500ms.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 44, "token_count": 202, "hash_short": "c9eee6c6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_045", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "iteria:**\n\n- **US-5.1-AC01**: Users can log session metrics (duration, distance, heart rate, sets, reps, weight) via PATCH /api/v1/sessions/:id with status='completed'; metrics saved within ≤500ms.\n  - Test Method: Integration + E2E\n  - Evidence: Logging tests, DB records, API response times\n\n- **US-5.1-AC02**: Session edits are audit-logged with who/when/what; audit records include field changes and timestamps.\n  - Test Method: Unit + Integration\n  - Evidence: Audit log excerpts, edit history verification\n\n- **US-5.1-AC03**: Logger frontend allows manual entry of all metrics with proper validation and unit conversion.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 45, "token_count": 156, "hash_short": "f3016805", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_046", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "od: Unit + Integration\n  - Evidence: Audit log excerpts, edit history verification\n\n- **US-5.1-AC03**: Logger frontend allows manual entry of all metrics with proper validation and unit conversion.\n  - Test Method: E2E\n  - Evidence: Logger UI screenshots, form validation tests\n\n---\n\n### US-5.2: Import GPX Files\n\n**As a** user\n**I want** to import GPX files from my fitness devices\n**So that** I can automatically log outdoor activities\n\n**Activities:**\n\n- E5-A2: GPX Parser\n- E5-A4: File Import API\n\n**Story Points**: 5\n**Priority**: Medium\n**Dependencies**: US-5.1\n\n**Acceptance Criteria:**\n\n- **US-5.2-AC01**: Users can import GPX files via POST /api/v1/sessions/import with file upload; GPX parser extracts track points, elevation, and timestamps.\n  - Test Method: Fuzz + fixtures\n  - Evidence: GPX parser test results, import success/failure logs\n\n- **US-5.2-AC02**: GPX parser handles ≥99% valid GPX samples; malformed GPX files produce user-facing error (422) without application crash.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 46, "token_count": 248, "hash_short": "9eff31f2", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_047", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "e: GPX parser test results, import success/failure logs\n\n- **US-5.2-AC02**: GPX parser handles ≥99% valid GPX samples; malformed GPX files produce user-facing error (422) without application crash.\n  - Test Method: Fuzz + fixtures\n  - Evidence: Corpus results, error handling tests\n\n- **US-5.2-AC03**: Imported GPX data creates session with proper metrics (distance, duration, elevation gain/loss); timezone normalization applied.\n  - Test Method: Unit\n  - Evidence: Parser snapshots, imported session verification\n\n---\n\n### US-5.3: Import FIT Files\n\n**As a** user\n**I want** to import FIT files with GPS and heart rate data\n**So that** I can log detailed workout data from my devices\n\n**Activities:**\n\n- E5-A3: FIT Parser\n- E5-A4: File Import API (shared)\n\n**Story Points**: 6\n**Priority**: Medium\n**Dependencies**: US-5.1\n\n**Acceptance Criteria:**\n\n- **US-5.3-AC01**: Users can import FIT files via POST /api/v1/sessions/import; FIT parser extracts GPS, heart rate, power, and other device metrics", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 47, "token_count": 249, "hash_short": "88d92bf6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_048", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "**Dependencies**: US-5.1\n\n**Acceptance Criteria:**\n\n- **US-5.3-AC01**: Users can import FIT files via POST /api/v1/sessions/import; FIT parser extracts GPS, heart rate, power, and other device metrics.\n  - Test Method: Fuzz + fixtures\n  - Evidence: FIT parser test results, import success/failure logs\n\n- **US-5.3-AC02**: FIT parser handles ≥99% valid FIT samples; malformed FIT files produce user-facing error (422) without crash.\n  - Test Method: Fuzz + fixtures\n  - Evidence: Corpus results, error handling tests\n\n- **US-5.3-AC03**: FIT file metadata (GPS coordinates, heart rate zones, timezone) respected; timezone normalization applied correctly.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 48, "token_count": 163, "hash_short": "407d5ddf", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_049", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "fixtures\n  - Evidence: Corpus results, error handling tests\n\n- **US-5.3-AC03**: FIT file metadata (GPS coordinates, heart rate zones, timezone) respected; timezone normalization applied correctly.\n  - Test Method: Unit\n  - Evidence: Parser snapshots, metadata extraction verification\n\n---\n\n### US-5.4: Metric Recalculation\n\n**As a** user\n**I want** derived metrics (pace, elevation) to be automatically calculated\n**So that** I can see accurate performance data\n\n**Activities:**\n\n- E5-A5: Metric Recalculation\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-5.1\n\n**Acceptance Criteria:**\n\n- **US-5.4-AC01**: Editing pace or elevation triggers automatic recalculation of derived metrics (average pace, elevation gain/loss, normalized power) within ≤200ms.\n  - Test Method: Integration\n  - Evidence: Recalculation logs, metric update verification\n\n- **US-5.4-AC02**: Metric recalculation is idempotent: same inputs produce same outputs; snapshot tests remain stable across runs.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 49, "token_count": 247, "hash_short": "4505f3f0", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_050", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "tion\n  - Evidence: Recalculation logs, metric update verification\n\n- **US-5.4-AC02**: Metric recalculation is idempotent: same inputs produce same outputs; snapshot tests remain stable across runs.\n  - Test Method: Unit\n  - Evidence: Snapshot tests, idempotency verification\n\n---\n\n### US-5.5: Offline Logging\n\n**As a** user\n**I want** to log workouts offline and sync when I reconnect\n**So that** I can track workouts even without internet\n\n**Activities:**\n\n- E5-A6: Offline Logging Support\n\n**Story Points**: 4\n**Priority**: Medium\n**Dependencies**: US-5.1\n\n**Acceptance Criteria:**\n\n- **US-5.5-AC01**: Offline logging buffers session events in local storage (IndexedDB); events sync to server within ≤5s after network reconnect.\n  - Test Method: E2E (PWA offline)\n  - Evidence: Network traces, sync verification, offline storage tests\n\n- **US-5.5-AC02**: Service worker enables offline functionality; sync queue handles failed syncs with retry logic (exponential backoff).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 50, "token_count": 243, "hash_short": "89173829", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_051", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "e: Network traces, sync verification, offline storage tests\n\n- **US-5.5-AC02**: Service worker enables offline functionality; sync queue handles failed syncs with retry logic (exponential backoff).\n  - Test Method: E2E (PWA offline)\n  - Evidence: Service worker tests, sync queue verification\n\n---\n\n### US-5.6: Import Testing\n\n**As a** developer\n**I want** comprehensive tests for file import functionality\n**So that** I can ensure parsers handle various file formats correctly\n\n**Activities:**\n\n- E5-A8: Import Tests\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-5.2, US-5.3\n\n**Acceptance Criteria:**\n\n- **US-5.6-AC01**: Fuzz tests cover GPX and FIT parsers with diverse file samples; parser handles edge cases (empty files, malformed XML/binary, missing fields).\n  - Test Method: Fuzz + fixtures\n  - Evidence: Fuzz test results, corpus coverage\n\n- **US-5.6-AC02**: Import tests verify file validation, parsing accuracy, error handling, and metric calculation correctness.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 51, "token_count": 247, "hash_short": "d5496874", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_052", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "thod: Fuzz + fixtures\n  - Evidence: Fuzz test results, corpus coverage\n\n- **US-5.6-AC02**: Import tests verify file validation, parsing accuracy, error handling, and metric calculation correctness.\n  - Test Method: Unit + Integration\n  - Evidence: Import test results, accuracy verification\n\n---\n\n## Epic 6: Privacy & GDPR (NFR-002)\n\n### US-6.1: Data Export\n\n**As a** user\n**I want** to export my data in JSON format\n**So that** I can access my information per GDPR requirements\n\n**Activities:**\n\n- E6-A1: Data Export API\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: FR-001\n\n**Acceptance Criteria:**\n\n- **US-6.1-AC01**: Users can request data export via GET /api/v1/users/me/export; export generates JSON bundle with user, profile, sessions, exercises, points, badges within ≤24h.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 52, "token_count": 198, "hash_short": "0a073eb1", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_053", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ance Criteria:**\n\n- **US-6.1-AC01**: Users can request data export via GET /api/v1/users/me/export; export generates JSON bundle with user, profile, sessions, exercises, points, badges within ≤24h.\n  - Test Method: E2E DSR\n  - Evidence: Export job logs, JSON bundle samples\n\n- **US-6.1-AC02**: Export link valid for 24h; download available via secure link; export includes all user data per GDPR requirements.\n  - Test Method: E2E DSR\n  - Evidence: Export link tests, data completeness verification\n\n---\n\n### US-6.2: Data Deletion\n\n**As a** user\n**I want** to delete my account and all associated data\n**So that** I can exercise my right to be forgotten per GDPR\n\n**Activities:**\n\n- E6-A2: Data Deletion API\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: FR-001, US-6.1\n\n**Acceptance Criteria:**\n\n- **US-6.2-AC01**: Users can delete account via DELETE /api/v1/users/me; deletion marks account as pending_deletion; hard deletion occurs within 30 days.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 53, "token_count": 240, "hash_short": "e4439d75", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_054", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ": FR-001, US-6.1\n\n**Acceptance Criteria:**\n\n- **US-6.2-AC01**: Users can delete account via DELETE /api/v1/users/me; deletion marks account as pending_deletion; hard deletion occurs within 30 days.\n  - Test Method: E2E DSR\n  - Evidence: Deletion tests, account status verification\n\n- **US-6.2-AC02**: Account deletion propagates to backups within ≤14 days (configurable); deletion receipt issued in audit log.\n  - Test Method: Ops review\n  - Evidence: Deletion pipeline logs, backup verification\n\n- **US-6.2-AC03**: Deletion invalidates all active sessions; user cannot login after deletion; data anonymized where required for referential integrity.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 54, "token_count": 162, "hash_short": "672e4b4b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_055", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Deletion pipeline logs, backup verification\n\n- **US-6.2-AC03**: Deletion invalidates all active sessions; user cannot login after deletion; data anonymized where required for referential integrity.\n  - Test Method: Integration\n  - Evidence: Session invalidation tests, anonymization verification\n\n---\n\n### US-6.3: Consent Management\n\n**As a** user\n**I want** to manage my consent preferences\n**So that** I can control how my data is used\n\n**Activities:**\n\n- E6-A3: Consent Management\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: FR-001\n\n**Acceptance Criteria:**\n\n- **US-6.3-AC01**: Users can manage consent preferences via UI; consent stored in database with timestamp and version; opt-out respected within ≤5m across services.\n  - Test Method: E2E\n  - Evidence: Consent UI screenshots, consent storage verification\n\n- **US-6.3-AC02**: Consent banner gates optional analytics; consent changes trigger immediate effect; consent history maintained for audit.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 55, "token_count": 242, "hash_short": "17d35939", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_056", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ce: Consent UI screenshots, consent storage verification\n\n- **US-6.3-AC02**: Consent banner gates optional analytics; consent changes trigger immediate effect; consent history maintained for audit.\n  - Test Method: E2E\n  - Evidence: Consent banner tests, analytics gating verification\n\n---\n\n### US-6.4: Privacy Settings\n\n**As a** user\n**I want** to configure privacy settings for my profile and content\n**So that** I can control who sees my information\n\n**Activities:**\n\n- E6-A4: Privacy Settings UI\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: FR-009, US-3.2\n\n**Acceptance Criteria:**\n\n- **US-6.4-AC01**: Users can configure privacy settings for profile (hide age/weight) and content (default visibility) via privacy settings UI.\n  - Test Method: E2E\n  - Evidence: Privacy settings UI screenshots, settings persistence tests\n\n- **US-6.4-AC02**: Privacy settings take effect immediately; past data visibility not retroactively changed; settings persisted in user profile.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 56, "token_count": 246, "hash_short": "06c404d7", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_057", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "settings UI screenshots, settings persistence tests\n\n- **US-6.4-AC02**: Privacy settings take effect immediately; past data visibility not retroactively changed; settings persisted in user profile.\n  - Test Method: Integration + Security\n  - Evidence: Privacy tests, settings application verification\n\n---\n\n### US-6.5: GDPR Audit Logging\n\n**As a** system\n**I want** to log all GDPR-related events\n**So that** I can demonstrate compliance\n\n**Activities:**\n\n- E6-A5: Audit Logging\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: FR-008\n\n**Acceptance Criteria:**\n\n- **US-6.5-AC01**: All GDPR-related events (export requests, deletion requests, consent changes) are audit-logged with timestamp, user ID, and action details.\n  - Test Method: Integration\n  - Evidence: Audit log excerpts, GDPR event verification\n\n- **US-6.5-AC02**: Audit logs are retained per retention policy; logs are searchable and exportable for compliance demonstrations.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 57, "token_count": 237, "hash_short": "346bfaa6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_058", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "gration\n  - Evidence: Audit log excerpts, GDPR event verification\n\n- **US-6.5-AC02**: Audit logs are retained per retention policy; logs are searchable and exportable for compliance demonstrations.\n  - Test Method: Ops review\n  - Evidence: Audit log retention verification, search functionality\n\n---\n\n### US-6.6: Privacy Testing\n\n**As a** developer\n**I want** comprehensive tests for GDPR flows\n**So that** I can ensure compliance requirements are met\n\n**Activities:**\n\n- E6-A6: Privacy Tests\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: US-6.1, US-6.2\n\n**Acceptance Criteria:**\n\n- **US-6.6-AC01**: Integration tests verify data export flow, deletion flow, consent management, and privacy settings with GDPR compliance checks.\n  - Test Method: Integration\n  - Evidence: GDPR flow test results\n\n- **US-6.6-AC02**: E2E tests verify complete GDPR user journeys including export request, download, account deletion, and consent management.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 58, "token_count": 237, "hash_short": "2dd07abe", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_059", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "thod: Integration\n  - Evidence: GDPR flow test results\n\n- **US-6.6-AC02**: E2E tests verify complete GDPR user journeys including export request, download, account deletion, and consent management.\n  - Test Method: E2E DSR\n  - Evidence: E2E test results, GDPR journey screenshots\n\n---\n\n## Epic 7: Performance Optimization (NFR-003)\n\n### US-7.1: API Performance Optimization\n\n**As a** user\n**I want** API responses to be fast\n**So that** I have a responsive experience\n\n**Activities:**\n\n- E7-A1: API Latency Optimization\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-7.1-AC01**: API latency p95 ≤300ms for all endpoints per PRD targets; slow endpoints identified and optimized.\n  - Test Method: Performance\n  - Evidence: Performance metrics, latency histograms\n\n- **US-7.1-AC02**: Per-endpoint budgets met: Auth ≤200ms, CRUD ≤300ms, Analytics ≤600ms, Feed ≤400ms p95.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 59, "token_count": 231, "hash_short": "4f9a05f1", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_060", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "imized.\n  - Test Method: Performance\n  - Evidence: Performance metrics, latency histograms\n\n- **US-7.1-AC02**: Per-endpoint budgets met: Auth ≤200ms, CRUD ≤300ms, Analytics ≤600ms, Feed ≤400ms p95.\n  - Test Method: Performance\n  - Evidence: Endpoint latency metrics, budget compliance\n\n---\n\n### US-7.2: Database Performance\n\n**As a** system\n**I want** database queries to be optimized\n**So that** the application performs well under load\n\n**Activities:**\n\n- E7-A2: Database Query Optimization\n\n**Story Points**: 4\n**Priority**: High\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-7.2-AC01**: Database queries optimized with proper indexes; slow query threshold 200ms; queries exceeding threshold logged and optimized.\n  - Test Method: Performance\n  - Evidence: Query performance metrics, index usage reports\n\n- **US-7.2-AC02**: Large tables (sessions, user_points) partitioned by month; partitions automatically pruned; connection pooling p95 wait <5ms.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 60, "token_count": 242, "hash_short": "2df10e3b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_061", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "nce: Query performance metrics, index usage reports\n\n- **US-7.2-AC02**: Large tables (sessions, user_points) partitioned by month; partitions automatically pruned; connection pooling p95 wait <5ms.\n  - Test Method: Performance\n  - Evidence: Partitioning verification, pool metrics\n\n---\n\n### US-7.3: Frontend Bundle Optimization\n\n**As a** user\n**I want** the application to load quickly\n**So that** I can start using it without long waits\n\n**Activities:**\n\n- E7-A3: Frontend Bundle Optimization\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: Frontend\n\n**Acceptance Criteria:**\n\n- **US-7.3-AC01**: Frontend JS bundle size ≤300KB gzipped; Lighthouse CI budget enforced; bundle size regression >10% blocks merge.\n  - Test Method: Performance\n  - Evidence: Bundle size reports, Lighthouse CI results\n\n- **US-7.3-AC02**: Code splitting implemented for non-critical routes; lazy loading mandatory; critical CSS inlined.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 61, "token_count": 230, "hash_short": "f17c3047", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_062", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "st Method: Performance\n  - Evidence: Bundle size reports, Lighthouse CI results\n\n- **US-7.3-AC02**: Code splitting implemented for non-critical routes; lazy loading mandatory; critical CSS inlined.\n  - Test Method: Performance\n  - Evidence: Bundle analysis, code splitting verification\n\n---\n\n### US-7.4: Frontend Performance Metrics\n\n**As a** user\n**I want** smooth page interactions\n**So that** I have a good user experience\n\n**Activities:**\n\n- E7-A4: Frontend Performance\n\n**Story Points**: 4\n**Priority**: High\n**Dependencies**: Frontend\n\n**Acceptance Criteria:**\n\n- **US-7.4-AC01**: Frontend performance metrics meet targets: LCP ≤2.5s, CLS ≤0.1, TTI ≤3.0s on mid-tier device, 4G connection.\n  - Test Method: Performance\n  - Evidence: Lighthouse reports, Web Vitals metrics\n\n- **US-7.4-AC02**: Performance regression >10% from baseline blocks release; Lighthouse CI runs per PR with budget enforcement.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 62, "token_count": 226, "hash_short": "9faeb60f", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_063", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "od: Performance\n  - Evidence: Lighthouse reports, Web Vitals metrics\n\n- **US-7.4-AC02**: Performance regression >10% from baseline blocks release; Lighthouse CI runs per PR with budget enforcement.\n  - Test Method: Performance\n  - Evidence: Lighthouse CI results, regression reports\n\n---\n\n### US-7.5: Caching Strategy\n\n**As a** system\n**I want** to cache frequently accessed data\n**So that** I can serve requests faster\n\n**Activities:**\n\n- E7-A5: Caching Strategy\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: US-3.1, FR-007\n\n**Acceptance Criteria:**\n\n- **US-7.5-AC01**: Read-through caching implemented for heavy queries (feed, progress); cache TTL 60s default with explicit invalidation on data changes.\n  - Test Method: Integration\n  - Evidence: Cache hit ratio metrics, invalidation tests\n\n- **US-7.5-AC02**: Cache strategy documented; cache keys follow naming convention; cache warming for frequently accessed data.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 63, "token_count": 233, "hash_short": "b56242a5", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_064", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Integration\n  - Evidence: Cache hit ratio metrics, invalidation tests\n\n- **US-7.5-AC02**: Cache strategy documented; cache keys follow naming convention; cache warming for frequently accessed data.\n  - Test Method: Documentation review\n  - Evidence: Cache documentation, cache key patterns\n\n---\n\n### US-7.6: Analytics Materialized Views\n\n**As a** system\n**I want** to use materialized views for analytics\n**So that** complex queries run faster\n\n**Activities:**\n\n- E7-A6: Materialized Views\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: FR-007\n\n**Acceptance Criteria:**\n\n- **US-7.6-AC01**: Materialized views created for analytics (session_summary, exercise_prs, weekly_aggregates); views refreshed asynchronously (REFRESH CONCURRENTLY).\n  - Test Method: Integration\n  - Evidence: Materialized view definitions, refresh job logs\n\n- **US-7.6-AC02**: Materialized views refresh on session completion or nightly; refresh is non-blocking; view consistency verified.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 64, "token_count": 243, "hash_short": "56a121e6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_065", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "on\n  - Evidence: Materialized view definitions, refresh job logs\n\n- **US-7.6-AC02**: Materialized views refresh on session completion or nightly; refresh is non-blocking; view consistency verified.\n  - Test Method: Integration\n  - Evidence: Refresh job logs, consistency tests\n\n---\n\n### US-7.7: Performance Testing\n\n**As a** developer\n**I want** automated performance tests\n**So that** I can catch performance regressions\n\n**Activities:**\n\n- E7-A7: Performance Tests\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-7.7-AC01**: k6 load tests configured and run in CI; tests validate throughput ≥500 req/s sustained, 1000 req/s burst.\n  - Test Method: Performance\n  - Evidence: k6 test results, throughput metrics\n\n- **US-7.7-AC02**: Performance regression >10% from baseline blocks release; baseline dataset ≥10k sessions for realistic query costs.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 65, "token_count": 225, "hash_short": "c4fbd066", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_066", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Performance\n  - Evidence: k6 test results, throughput metrics\n\n- **US-7.7-AC02**: Performance regression >10% from baseline blocks release; baseline dataset ≥10k sessions for realistic query costs.\n  - Test Method: Performance\n  - Evidence: Performance test results, regression reports\n\n---\n\n### US-7.8: Performance Monitoring\n\n**As a** developer\n**I want** performance metrics and dashboards\n**So that** I can monitor system performance\n\n**Activities:**\n\n- E7-A8: Performance Monitoring\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: NFR-007\n\n**Acceptance Criteria:**\n\n- **US-7.8-AC01**: Performance metrics exposed via Prometheus: http_request_duration_ms, db_query_duration_ms, frontend_lcp_ms; metrics available in Grafana dashboards.\n  - Test Method: Integration\n  - Evidence: Prometheus metrics, Grafana dashboard screenshots\n\n- **US-7.8-AC02**: Performance alerts configured: p95 latency >400ms for 10min (warning), error rate >0.5% for 5min (critical).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 66, "token_count": 242, "hash_short": "ffed9025", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_067", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "tion\n  - Evidence: Prometheus metrics, Grafana dashboard screenshots\n\n- **US-7.8-AC02**: Performance alerts configured: p95 latency >400ms for 10min (warning), error rate >0.5% for 5min (critical).\n  - Test Method: Ops review\n  - Evidence: Alert configuration, alert test results\n\n---\n\n## Epic 8: Accessibility (NFR-004)\n\n### US-8.1: ARIA Labels and Semantic HTML\n\n**As a** screen reader user\n**I want** proper ARIA labels on all interactive elements\n**So that** I can navigate the application effectively\n\n**Activities:**\n\n- E8-A1: ARIA Labels Audit\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.1-AC01**: All interactive elements have proper ARIA labels (aria-label, aria-labelledby, aria-describedby); semantic HTML used (button, nav, main, etc.).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 67, "token_count": 202, "hash_short": "2a7a0a74", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_068", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "rontend\n\n**Acceptance Criteria:**\n\n- **US-8.1-AC01**: All interactive elements have proper ARIA labels (aria-label, aria-labelledby, aria-describedby); semantic HTML used (button, nav, main, etc.).\n  - Test Method: Accessibility audit\n  - Evidence: ARIA audit results, HTML semantic verification\n\n- **US-8.1-AC02**: Form inputs have associated labels; form errors announced to screen readers; form structure is logical.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 68, "token_count": 104, "hash_short": "6a31ed67", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_069", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "bility audit\n  - Evidence: ARIA audit results, HTML semantic verification\n\n- **US-8.1-AC02**: Form inputs have associated labels; form errors announced to screen readers; form structure is logical.\n  - Test Method: Accessibility audit\n  - Evidence: Form accessibility tests, label association verification\n\n---\n\n### US-8.2: Keyboard Navigation\n\n**As a** keyboard user\n**I want** to navigate all features using only the keyboard\n**So that** I can use the application without a mouse\n\n**Activities:**\n\n- E8-A2: Keyboard Navigation\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.2-AC01**: All features navigable using only keyboard (Tab, Enter, Space, Arrow keys); focus indicators visible (2px outline, sufficient contrast).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 69, "token_count": 195, "hash_short": "69227922", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_070", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ": All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.2-AC01**: All features navigable using only keyboard (Tab, Enter, Space, Arrow keys); focus indicators visible (2px outline, sufficient contrast).\n  - Test Method: Accessibility audit\n  - Evidence: Keyboard navigation tests, focus indicator screenshots\n\n- **US-8.2-AC02**: No keyboard traps; skip links available for main content; tab order is logical and predictable.\n  - Test Method: Accessibility audit\n  - Evidence: Keyboard trap tests, skip link verification\n\n---\n\n### US-8.3: Color Contrast Compliance\n\n**As a** user with visual impairments\n**I want** sufficient color contrast throughout the application\n**So that** I can read all text clearly\n\n**Activities:**\n\n- E8-A3: Color Contrast\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: Frontend\n\n**Acceptance Criteria:**\n\n- **US-8.3-AC01**: Color contrast meets WCAG 2.1 AA standards: text 4.5:1 for normal text, 3:1 for large text; UI components 3:1.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 70, "token_count": 241, "hash_short": "533875bf", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_071", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ority**: High\n**Dependencies**: Frontend\n\n**Acceptance Criteria:**\n\n- **US-8.3-AC01**: Color contrast meets WCAG 2.1 AA standards: text 4.5:1 for normal text, 3:1 for large text; UI components 3:1.\n  - Test Method: Accessibility audit\n  - Evidence: Color contrast audit results, contrast ratio measurements\n\n- **US-8.3-AC02**: Color is not the only means of conveying information; icons, labels, or patterns supplement color coding.\n  - Test Method: Accessibility audit\n  - Evidence: Color dependency audit, alternative indicator verification\n\n---\n\n### US-8.4: Screen Reader Compatibility\n\n**As a** screen reader user\n**I want** the application to work with my screen reader\n**So that** I can access all features\n\n**Activities:**\n\n- E8-A4: Screen Reader Testing\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.4-AC01**: Application tested with screen readers (NVDA, JAWS, VoiceOver); all features accessible and functional.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 71, "token_count": 245, "hash_short": "404dd6d1", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_072", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.4-AC01**: Application tested with screen readers (NVDA, JAWS, VoiceOver); all features accessible and functional.\n  - Test Method: Screen reader testing\n  - Evidence: Screen reader test results, accessibility test reports\n\n- **US-8.4-AC02**: Dynamic content changes announced to screen readers; live regions (aria-live) used appropriately; page structure is logical.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 72, "token_count": 112, "hash_short": "2d06e91e", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_073", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "reen reader test results, accessibility test reports\n\n- **US-8.4-AC02**: Dynamic content changes announced to screen readers; live regions (aria-live) used appropriately; page structure is logical.\n  - Test Method: Screen reader testing\n  - Evidence: Screen reader announcements, live region tests\n\n---\n\n### US-8.5: Focus Management\n\n**As a** keyboard user\n**I want** proper focus management in modals and dynamic content\n**So that** I can navigate efficiently\n\n**Activities:**\n\n- E8-A5: Focus Management\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.5-AC01**: Focus management in modals: focus trapped within modal, focus returns to trigger on close, initial focus on first interactive element.\n  - Test Method: Accessibility audit\n  - Evidence: Modal focus tests, focus management verification\n\n- **US-8.5-AC02**: Dynamic content (dropdowns, tooltips, notifications) manages focus appropriately; focus not lost unexpectedly.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 73, "token_count": 246, "hash_short": "b985bcc8", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_074", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "dit\n  - Evidence: Modal focus tests, focus management verification\n\n- **US-8.5-AC02**: Dynamic content (dropdowns, tooltips, notifications) manages focus appropriately; focus not lost unexpectedly.\n  - Test Method: Accessibility audit\n  - Evidence: Dynamic content focus tests\n\n---\n\n### US-8.6: Automated Accessibility Testing\n\n**As a** developer\n**I want** automated accessibility tests in CI\n**So that** I can catch accessibility issues early\n\n**Activities:**\n\n- E8-A6: Accessibility Tests\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.6-AC01**: Automated accessibility tests (axe-core) run in CI; tests cover all pages and components; violations block merge.\n  - Test Method: Automated testing\n  - Evidence: CI test results, axe violation reports\n\n- **US-8.6-AC02**: Accessibility test coverage ≥80% of interactive elements; critical violations (level 1) must be zero.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 74, "token_count": 233, "hash_short": "2ca4d626", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_075", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "hod: Automated testing\n  - Evidence: CI test results, axe violation reports\n\n- **US-8.6-AC02**: Accessibility test coverage ≥80% of interactive elements; critical violations (level 1) must be zero.\n  - Test Method: Automated testing\n  - Evidence: Test coverage reports, violation counts\n\n---\n\n### US-8.7: Lighthouse Accessibility Score\n\n**As a** developer\n**I want** a perfect Lighthouse accessibility score\n**So that** I can ensure WCAG 2.1 AA compliance\n\n**Activities:**\n\n- E8-A7: Lighthouse A11y Audit\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-8.7-AC01**: Lighthouse accessibility score = 100; all accessibility audits pass; score maintained across releases.\n  - Test Method: Lighthouse CI\n  - Evidence: Lighthouse reports, accessibility score history\n\n- **US-8.7-AC02**: Lighthouse CI runs per PR; accessibility score regression blocks merge; budget enforced.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 75, "token_count": 231, "hash_short": "ca354eb1", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_076", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Test Method: Lighthouse CI\n  - Evidence: Lighthouse reports, accessibility score history\n\n- **US-8.7-AC02**: Lighthouse CI runs per PR; accessibility score regression blocks merge; budget enforced.\n  - Test Method: Lighthouse CI\n  - Evidence: Lighthouse CI results, budget compliance\n\n---\n\n## Epic 9: Observability (NFR-007)\n\n### US-9.1: Structured Logging\n\n**As a** developer\n**I want** structured JSON logs with correlation IDs\n**So that** I can debug issues effectively\n\n**Activities:**\n\n- E9-A1: Structured Logging\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-9.1-AC01**: All logs are structured JSON with required fields: ts, level, request_id, user_id (if authenticated), route, status, lat_ms; no PII in logs.\n  - Test Method: Integration\n  - Evidence: Log samples, PII scan results\n\n- **US-9.1-AC02**: Correlation IDs (request_id) propagated across services; request tracing possible via correlation ID search.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 76, "token_count": 244, "hash_short": "278b8732", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_077", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Test Method: Integration\n  - Evidence: Log samples, PII scan results\n\n- **US-9.1-AC02**: Correlation IDs (request_id) propagated across services; request tracing possible via correlation ID search.\n  - Test Method: Integration\n  - Evidence: Correlation ID propagation tests, trace verification\n\n---\n\n### US-9.2: Prometheus Metrics\n\n**As a** developer\n**I want** Prometheus metrics for all endpoints\n**So that** I can monitor system health\n\n**Activities:**\n\n- E9-A2: Prometheus Metrics\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-9.2-AC01**: Prometheus metrics exposed for all endpoints: http_request_duration_seconds (histogram), http_requests_total (counter) with method, route, status labels.\n  - Test Method: Integration\n  - Evidence: Prometheus metrics, metric definitions\n\n- **US-9.2-AC02**: Database metrics: db_query_duration_seconds (histogram) with op, table labels; background job metrics: background_job_duration_seconds.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 77, "token_count": 248, "hash_short": "972beeff", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_078", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "e: Prometheus metrics, metric definitions\n\n- **US-9.2-AC02**: Database metrics: db_query_duration_seconds (histogram) with op, table labels; background job metrics: background_job_duration_seconds.\n  - Test Method: Integration\n  - Evidence: DB metrics, job metrics\n\n- **US-9.2-AC03**: Metric cardinality bounded: route labels normalized, user IDs excluded, label sets limited to prevent cardinality explosion.\n  - Test Method: Integration\n  - Evidence: Cardinality analysis, metric samples\n\n---\n\n### US-9.3: Distributed Tracing\n\n**As a** developer\n**I want** OpenTelemetry tracing\n**So that** I can trace requests across services\n\n**Activities:**\n\n- E9-A3: OpenTelemetry Tracing\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-9.3-AC01**: OpenTelemetry tracing implemented with traceparent propagation; sampling rate 10% prod, 100% staging; spans include timing only (no PII).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 78, "token_count": 233, "hash_short": "e167357e", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_079", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ": All modules\n\n**Acceptance Criteria:**\n\n- **US-9.3-AC01**: OpenTelemetry tracing implemented with traceparent propagation; sampling rate 10% prod, 100% staging; spans include timing only (no PII).\n  - Test Method: Integration\n  - Evidence: Tracing configuration, trace samples\n\n- **US-9.3-AC02**: Traces cover full request lifecycle: HTTP → service → database; trace IDs searchable in observability platform.\n  - Test Method: Integration\n  - Evidence: Trace samples, trace completeness verification\n\n---\n\n### US-9.4: Monitoring Dashboards\n\n**As a** developer\n**I want** Grafana dashboards for key metrics\n**So that** I can visualize system performance\n\n**Activities:**\n\n- E9-A4: Grafana Dashboards\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: US-9.2\n\n**Acceptance Criteria:**\n\n- **US-9.4-AC01**: Grafana dashboards created for: API latency (p95), error rate, DB health, job queues, uploads AV, performance budgets.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 79, "token_count": 232, "hash_short": "ea538217", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_080", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Medium\n**Dependencies**: US-9.2\n\n**Acceptance Criteria:**\n\n- **US-9.4-AC01**: Grafana dashboards created for: API latency (p95), error rate, DB health, job queues, uploads AV, performance budgets.\n  - Test Method: Ops review\n  - Evidence: Grafana dashboard screenshots, dashboard definitions\n\n- **US-9.4-AC02**: Dashboards refresh automatically; data retention configured; dashboards accessible to ops team.\n  - Test Method: Ops review\n  - Evidence: Dashboard configuration, access verification\n\n---\n\n### US-9.5: Alerting\n\n**As a** developer\n**I want** alerts for critical metrics\n**So that** I can respond to issues quickly\n\n**Activities:**\n\n- E9-A5: Alerting Rules\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: US-9.2, US-9.4\n\n**Acceptance Criteria:**\n\n- **US-9.5-AC01**: Alerting rules configured for: 5xx rate spikes (>0.5% for 5min), p95 latency breaches (>400ms for 10min), DB pool saturation, auth lockout anomalies.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 80, "token_count": 234, "hash_short": "5c719b17", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_081", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "4\n\n**Acceptance Criteria:**\n\n- **US-9.5-AC01**: Alerting rules configured for: 5xx rate spikes (>0.5% for 5min), p95 latency breaches (>400ms for 10min), DB pool saturation, auth lockout anomalies.\n  - Test Method: Ops review\n  - Evidence: Alert rule definitions, alert test results\n\n- **US-9.5-AC02**: Alerts sent to appropriate channels (PagerDuty, Slack, email); alert routing based on severity; alert fatigue prevented.\n  - Test Method: Ops review\n  - Evidence: Alert configuration, notification channel tests\n\n---\n\n### US-9.6: Log Aggregation\n\n**As a** developer\n**I want** centralized log aggregation\n**So that** I can search and analyze logs efficiently\n\n**Activities:**\n\n- E9-A6: Log Aggregation\n\n**Story Points**: 3\n**Priority**: Medium\n**Dependencies**: US-9.1\n\n**Acceptance Criteria:**\n\n- **US-9.6-AC01**: Log aggregation pipeline configured (Loki or compatible); logs ingested from all services; logs searchable by correlation ID, user ID, timestamp.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 81, "token_count": 240, "hash_short": "982ece7d", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_082", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "S-9.1\n\n**Acceptance Criteria:**\n\n- **US-9.6-AC01**: Log aggregation pipeline configured (Loki or compatible); logs ingested from all services; logs searchable by correlation ID, user ID, timestamp.\n  - Test Method: Ops review\n  - Evidence: Log aggregation configuration, search functionality\n\n- **US-9.6-AC02**: Log retention policy configured (default 30 days, configurable); log storage optimized; log queries performant (<2s for typical searches).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 82, "token_count": 112, "hash_short": "13a2f1a6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_083", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "on configuration, search functionality\n\n- **US-9.6-AC02**: Log retention policy configured (default 30 days, configurable); log storage optimized; log queries performant (<2s for typical searches).\n  - Test Method: Ops review\n  - Evidence: Retention policy, query performance metrics\n\n---\n\n## Epic 10: Availability & Backups (NFR-005)\n\n### US-10.1: Automated Backups\n\n**As a** system administrator\n**I want** automated daily encrypted backups\n**So that** I can recover from data loss\n\n**Activities:**\n\n- E10-A1: Backup Automation\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: Infrastructure\n\n**Acceptance Criteria:**\n\n- **US-10.1-AC01**: Automated daily encrypted backups of all critical data (users, sessions, exercises, points); backups stored in secure location.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 83, "token_count": 194, "hash_short": "77b9548b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_084", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "cies**: Infrastructure\n\n**Acceptance Criteria:**\n\n- **US-10.1-AC01**: Automated daily encrypted backups of all critical data (users, sessions, exercises, points); backups stored in secure location.\n  - Test Method: Ops review\n  - Evidence: Backup job logs, backup storage verification\n\n- **US-10.1-AC02**: Backup encryption verified; backup integrity checksums validated; backup rotation policy (retain 30 days daily, 12 months monthly).\n  - Test Method: Ops review\n  - Evidence: Encryption verification, rotation policy\n\n---\n\n### US-10.2: Backup Testing\n\n**As a** system administrator\n**I want** quarterly backup restore tests\n**So that** I can verify backup integrity\n\n**Activities:**\n\n- E10-A2: Backup Testing\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: US-10.1\n\n**Acceptance Criteria:**\n\n- **US-10.2-AC01**: Quarterly backup restore tests performed; restore procedure documented; restore RTO ≤4h, RPO ≤24h verified.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 84, "token_count": 233, "hash_short": "a5d605b0", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_085", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "Priority**: High\n**Dependencies**: US-10.1\n\n**Acceptance Criteria:**\n\n- **US-10.2-AC01**: Quarterly backup restore tests performed; restore procedure documented; restore RTO ≤4h, RPO ≤24h verified.\n  - Test Method: Ops review\n  - Evidence: Restore test logs, RTO/RPO verification\n\n- **US-10.2-AC02**: Restore tests include data integrity verification; restored data matches source; restore procedure tested end-to-end.\n  - Test Method: Ops review\n  - Evidence: Restore test results, integrity verification\n\n---\n\n### US-10.3: Disaster Recovery\n\n**As a** system administrator\n**I want** documented and tested DR procedures\n**So that** I can recover from disasters\n\n**Activities:**\n\n- E10-A3: DR Procedures\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: US-10.1\n\n**Acceptance Criteria:**\n\n- **US-10.3-AC01**: Disaster recovery procedures documented in runbook; DR scenarios tested (regional failover, data center outage); RTO ≤4h, RPO ≤24h.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 85, "token_count": 237, "hash_short": "36ae9b58", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_086", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "dencies**: US-10.1\n\n**Acceptance Criteria:**\n\n- **US-10.3-AC01**: Disaster recovery procedures documented in runbook; DR scenarios tested (regional failover, data center outage); RTO ≤4h, RPO ≤24h.\n  - Test Method: Ops review\n  - Evidence: DR runbook, DR test results\n\n- **US-10.3-AC02**: DR procedures include communication plan, escalation paths, and rollback procedures; procedures reviewed quarterly.\n  - Test Method: Ops review\n  - Evidence: DR documentation, review records\n\n---\n\n### US-10.4: Enhanced Health Checks\n\n**As a** system\n**I want** comprehensive health check endpoints\n**So that** monitoring systems can detect issues\n\n**Activities:**\n\n- E10-A4: Health Check Enhancement\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: Infrastructure\n\n**Acceptance Criteria:**\n\n- **US-10.4-AC01**: Health check endpoint GET /api/v1/health returns 200 with service status (database, storage, external services); health checks used by load balancer.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 86, "token_count": 239, "hash_short": "e1598c08", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_087", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "**Acceptance Criteria:**\n\n- **US-10.4-AC01**: Health check endpoint GET /api/v1/health returns 200 with service status (database, storage, external services); health checks used by load balancer.\n  - Test Method: Integration\n  - Evidence: Health check responses, load balancer configuration\n\n- **US-10.4-AC02**: Health check includes readiness and liveness probes; unhealthy services removed from load balancer; health status monitored.\n  - Test Method: Integration\n  - Evidence: Health check implementation, monitoring verification\n\n---\n\n### US-10.5: Read-Only Mode\n\n**As a** system administrator\n**I want** a read-only mode for maintenance\n**So that** I can perform maintenance without data corruption\n\n**Activities:**\n\n- E10-A5: Read-Only Mode\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: System module\n\n**Acceptance Criteria:**\n\n- **US-10.5-AC01**: Read-only mode implemented via system configuration; read-only mode prevents all write operations (POST, PATCH, DELETE return 503)", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 87, "token_count": 249, "hash_short": "2d3580e5", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_088", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ncies**: System module\n\n**Acceptance Criteria:**\n\n- **US-10.5-AC01**: Read-only mode implemented via system configuration; read-only mode prevents all write operations (POST, PATCH, DELETE return 503).\n  - Test Method: Integration\n  - Evidence: Read-only mode tests, maintenance mode verification\n\n- **US-10.5-AC02**: Read-only mode can be toggled via admin endpoint or environment variable; mode change takes effect within ≤10s.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 88, "token_count": 107, "hash_short": "6e33b4e7", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_089", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- Evidence: Read-only mode tests, maintenance mode verification\n\n- **US-10.5-AC02**: Read-only mode can be toggled via admin endpoint or environment variable; mode change takes effect within ≤10s.\n  - Test Method: Integration\n  - Evidence: Mode toggle tests, activation timing\n\n---\n\n## Epic 12: Coach Training Unit Assignment (FR-012)\n\n### US-12.1: Manage Coach-Athlete Relationships\n\n**As a** coach\n**I want** to establish and manage relationships with athletes\n**So that** I can assign training units to them\n\n**Activities:**\n\n- E12-A1: Coach-Athlete Relationship API\n- E12-A11: Coach-Athlete Management Frontend\n- E12-A14: Coach-Athlete Relationship Tests\n\n**Story Points**: 5\n**Priority**: High\n**Dependencies**: FR-001, FR-002, FR-008\n\n**Acceptance Criteria:**\n\n- **US-12.1-AC01**: Coaches can create consent-based relationships with athletes via POST /api/v1/coaches/athletes; relationships require athlete consent before activation.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 89, "token_count": 234, "hash_short": "836a1d9f", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_090", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "*Acceptance Criteria:**\n\n- **US-12.1-AC01**: Coaches can create consent-based relationships with athletes via POST /api/v1/coaches/athletes; relationships require athlete consent before activation.\n  - Test Method: Integration + E2E\n  - Evidence: Relationship creation tests, consent flow verification\n\n- **US-12.1-AC02**: Coaches can list their athletes via GET /api/v1/coaches/athletes with pagination; athletes can list their coaches via GET /api/v1/athletes/coaches.\n  - Test Method: Integration + E2E\n  - Evidence: List endpoints tests, UI screenshots\n\n- **US-12.1-AC03**: Either party can revoke the relationship via DELETE /api/v1/coaches/athletes/:id; revocation takes effect immediately and prevents further assignments.\n  - Test Method: Integration + E2E\n  - Evidence: Revocation tests, access control verification\n\n- **US-12.1-AC04**: Frontend UI allows coaches to manage athlete relationships with search, filter, and relationship status display.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 90, "token_count": 239, "hash_short": "6a545d91", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_091", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "E2E\n  - Evidence: Revocation tests, access control verification\n\n- **US-12.1-AC04**: Frontend UI allows coaches to manage athlete relationships with search, filter, and relationship status display.\n  - Test Method: E2E\n  - Evidence: UI screenshots, relationship management workflow\n\n- **US-12.1-AC05**: Access control tests verify coaches can only manage their own relationships; athletes can only see their assigned coaches.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 91, "token_count": 106, "hash_short": "1b4929d9", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_092", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "nce: UI screenshots, relationship management workflow\n\n- **US-12.1-AC05**: Access control tests verify coaches can only manage their own relationships; athletes can only see their assigned coaches.\n  - Test Method: Integration + Security\n  - Evidence: Access control test results, security audit\n\n---\n\n### US-12.2: Create and Manage Training Units\n\n**As a** coach\n**I want** to create and manage training units with exercises and repeat counts\n**So that** I can build a library of training programs\n\n**Activities:**\n\n- E12-A2: Training Unit Data Model\n- E12-A3: Training Unit CRUD API\n- E12-A8: Training Unit Library Frontend\n- E12-A9: Training Unit Creation Frontend\n\n**Story Points**: 8\n**Priority**: High\n**Dependencies**: FR-010\n\n**Acceptance Criteria:**\n\n- **US-12.2-AC01**: Training units data model created with training_units table including fields: id, coach_id, name, description, exercises (JSONB), repeat_count, metadata, created_at, updated_at, archived_at.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 92, "token_count": 242, "hash_short": "97852377", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_093", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "C01**: Training units data model created with training_units table including fields: id, coach_id, name, description, exercises (JSONB), repeat_count, metadata, created_at, updated_at, archived_at.\n  - Test Method: Integration\n  - Evidence: Migration file, schema verification, DB snapshot\n\n- **US-12.2-AC02**: Coaches can create training units via POST /api/v1/training-units with exercises array and repeat count; training unit saved within ≤500ms.\n  - Test Method: Integration + E2E\n  - Evidence: Creation tests, API response times, DB records\n\n- **US-12.2-AC03**: Coaches can read, update, and archive their training units via GET/PATCH/DELETE /api/v1/training-units/:id; archived units are soft-deleted.\n  - Test Method: Integration + E2E\n  - Evidence: CRUD operation tests, archival verification\n\n- **US-12.2-AC04**: Training unit library frontend displays all coach's training units with search, filter, and list views; supports pagination.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 93, "token_count": 236, "hash_short": "69b2fbcf", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_094", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "idence: CRUD operation tests, archival verification\n\n- **US-12.2-AC04**: Training unit library frontend displays all coach's training units with search, filter, and list views; supports pagination.\n  - Test Method: E2E\n  - Evidence: Library UI screenshots, search functionality tests\n\n- **US-12.2-AC05**: Training unit creation/editing UI allows adding exercises, setting repeat counts, and managing metadata with proper validation.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 94, "token_count": 108, "hash_short": "15245285", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_095", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "brary UI screenshots, search functionality tests\n\n- **US-12.2-AC05**: Training unit creation/editing UI allows adding exercises, setting repeat counts, and managing metadata with proper validation.\n  - Test Method: E2E\n  - Evidence: Creation UI screenshots, form validation tests\n\n---\n\n### US-12.3: Assign Training Units to Athletes\n\n**As a** coach\n**I want** to assign training units to athletes with date selection and exercise modifications\n**So that** I can provide personalized training programs\n\n**Activities:**\n\n- E12-A4: Exercise Repeat/Rounds Logic\n- E12-A5: Training Unit Assignment API\n- E12-A6: Exercise Modification API\n- E12-A7: Bulk Assignment API\n- E12-A10: Assignment Frontend\n- E12-A12: Assignment History Frontend\n\n**Story Points**: 10\n**Priority**: High\n**Dependencies**: US-12.1, US-12.2, FR-004\n\n**Acceptance Criteria:**\n\n- **US-12.3-AC01**: Exercise repeat/rounds logic duplicates exercises based on repeat_count when creating sessions; logic handles nested repeats correctly", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 95, "token_count": 249, "hash_short": "6b4c0d31", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_096", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "1, US-12.2, FR-004\n\n**Acceptance Criteria:**\n\n- **US-12.3-AC01**: Exercise repeat/rounds logic duplicates exercises based on repeat_count when creating sessions; logic handles nested repeats correctly.\n  - Test Method: Integration\n  - Evidence: Repeat logic tests, session generation verification\n\n- **US-12.3-AC02**: Coaches can assign training units to athletes via POST /api/v1/training-units/:id/assign with athlete_id and planned_at date; assignment creates planned sessions.\n  - Test Method: Integration + E2E\n  - Evidence: Assignment tests, session creation verification\n\n- **US-12.3-AC03**: Coaches can modify exercise parameters (weight, substitution, intensity) during assignment via assignment API with exercise_modifications array.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 96, "token_count": 185, "hash_short": "00fb91c8", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_097", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ", session creation verification\n\n- **US-12.3-AC03**: Coaches can modify exercise parameters (weight, substitution, intensity) during assignment via assignment API with exercise_modifications array.\n  - Test Method: Integration + E2E\n  - Evidence: Modification tests, parameter override verification\n\n- **US-12.3-AC04**: Bulk assignment endpoint POST /api/v1/training-units/:id/assign-bulk allows assigning to multiple athletes efficiently; supports up to 50 athletes per request.\n  - Test Method: Integration\n  - Evidence: Bulk assignment tests, performance metrics\n\n- **US-12.3-AC05**: Assignment frontend UI provides athlete selection, date picker, exercise modification interface, and assignment confirmation.\n  - Test Method: E2E\n  - Evidence: Assignment UI screenshots, workflow tests\n\n- **US-12.3-AC06**: Assignment history frontend displays all assignments with filtering by athlete, date range, and completion status; supports pagination.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 97, "token_count": 236, "hash_short": "1c7bc395", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_098", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ssignment UI screenshots, workflow tests\n\n- **US-12.3-AC06**: Assignment history frontend displays all assignments with filtering by athlete, date range, and completion status; supports pagination.\n  - Test Method: E2E\n  - Evidence: History UI screenshots, filter functionality tests\n\n---\n\n### US-12.4: Training Unit Testing\n\n**As a** developer\n**I want** comprehensive tests for training unit functionality\n**So that** I can ensure coach-athlete features work correctly\n\n**Activities:**\n\n- E12-A13: Training Unit Tests\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: US-12.2, US-12.3\n\n**Acceptance Criteria:**\n\n- **US-12.4-AC01**: Integration tests cover training unit CRUD operations, assignment flow, repeat logic, and exercise modifications with ≥90% code coverage.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 98, "token_count": 194, "hash_short": "a2cf49b7", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_099", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "2.2, US-12.3\n\n**Acceptance Criteria:**\n\n- **US-12.4-AC01**: Integration tests cover training unit CRUD operations, assignment flow, repeat logic, and exercise modifications with ≥90% code coverage.\n  - Test Method: Integration\n  - Evidence: Test coverage reports, integration test results\n\n- **US-12.4-AC02**: E2E tests verify complete training unit workflow including creation, assignment, modification, and history viewing.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 99, "token_count": 106, "hash_short": "806a8032", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_100", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- Evidence: Test coverage reports, integration test results\n\n- **US-12.4-AC02**: E2E tests verify complete training unit workflow including creation, assignment, modification, and history viewing.\n  - Test Method: E2E\n  - Evidence: E2E test results, workflow verification\n\n---\n\n## Epic 13: WCAG 2.2 Compliance Update (NFR-004 Enhancement)\n\n### US-13.1: Update Accessibility Documentation\n\n**As a** developer\n**I want** all accessibility documentation updated to reference WCAG 2.2 AA\n**So that** the project reflects current accessibility standards\n\n**Activities:**\n\n- E13-A1: Update Visual Design System\n- E13-A2: Update ADR-020\n- E13-A3: Update NFR-004\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: Documentation\n\n**Acceptance Criteria:**\n\n- **US-13.1-AC01**: Visual Design System updated to reference WCAG 2.2 AA instead of 2.1 AA; status messages pattern documented.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 100, "token_count": 220, "hash_short": "f4012377", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_101", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "y**: High\n**Dependencies**: Documentation\n\n**Acceptance Criteria:**\n\n- **US-13.1-AC01**: Visual Design System updated to reference WCAG 2.2 AA instead of 2.1 AA; status messages pattern documented.\n  - Test Method: Documentation review\n  - Evidence: VDS updates, status messages pattern documentation\n\n- **US-13.1-AC02**: ADR-020 updated to reference WCAG 2.2 instead of 2.1; all accessibility decisions reflect 2.2 standards.\n  - Test Method: Documentation review\n  - Evidence: ADR-020 updates, decision log\n\n- **US-13.1-AC03**: NFR-004 requirement document updated to reference WCAG 2.2; all acceptance criteria reflect 2.2 success criteria.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 101, "token_count": 160, "hash_short": "785f4b1e", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_102", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "cumentation review\n  - Evidence: ADR-020 updates, decision log\n\n- **US-13.1-AC03**: NFR-004 requirement document updated to reference WCAG 2.2; all acceptance criteria reflect 2.2 success criteria.\n  - Test Method: Documentation review\n  - Evidence: NFR-004 updates, requirement verification\n\n---\n\n### US-13.2: Focus Not Obscured (2.4.11)\n\n**As a** keyboard user\n**I want** focus indicators to always be visible\n**So that** I can navigate the application effectively\n\n**Activities:**\n\n- E13-A4: Focus Visibility Audit\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: US-8.5, All frontend\n\n**Acceptance Criteria:**\n\n- **US-13.2-AC01**: All focus indicators are visible and not hidden by sticky headers, modals, or overlays; minimum 2px visibility requirement met.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 102, "token_count": 192, "hash_short": "b8767341", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_103", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ": US-8.5, All frontend\n\n**Acceptance Criteria:**\n\n- **US-13.2-AC01**: All focus indicators are visible and not hidden by sticky headers, modals, or overlays; minimum 2px visibility requirement met.\n  - Test Method: Accessibility audit\n  - Evidence: Focus visibility audit results, z-index guidelines\n\n- **US-13.2-AC02**: Z-index guidelines documented for focusable elements; automated tests verify focus visibility across all pages.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 103, "token_count": 108, "hash_short": "c2ecf8de", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_104", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- Evidence: Focus visibility audit results, z-index guidelines\n\n- **US-13.2-AC02**: Z-index guidelines documented for focusable elements; automated tests verify focus visibility across all pages.\n  - Test Method: Accessibility audit + Automated testing\n  - Evidence: Z-index documentation, focus visibility test results\n\n---\n\n### US-13.3: Keyboard Alternatives for Dragging (2.5.7)\n\n**As a** keyboard user\n**I want** keyboard alternatives for all drag-and-drop operations\n**So that** I can use the planner without a mouse\n\n**Activities:**\n\n- E13-A5: Keyboard Alternatives for Dragging\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: US-4.3, US-8.2\n\n**Acceptance Criteria:**\n\n- **US-13.3-AC01**: All drag-and-drop operations in Planner have keyboard alternatives; arrow keys and Enter/Space activate drag operations.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 104, "token_count": 206, "hash_short": "8036046a", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_105", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ependencies**: US-4.3, US-8.2\n\n**Acceptance Criteria:**\n\n- **US-13.3-AC01**: All drag-and-drop operations in Planner have keyboard alternatives; arrow keys and Enter/Space activate drag operations.\n  - Test Method: E2E + Accessibility audit\n  - Evidence: Keyboard navigation tests, drag alternative verification\n\n- **US-13.3-AC02**: Keyboard navigation documented for all draggable elements; documentation includes key bindings and usage patterns.\n  - Test Method: Documentation review\n  - Evidence: Keyboard navigation documentation, key binding reference\n\n- **US-13.3-AC03**: E2E tests verify keyboard alternatives work for all drag operations; tests cover month/week/day calendar views.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 105, "token_count": 172, "hash_short": "991adfa6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_106", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "idence: Keyboard navigation documentation, key binding reference\n\n- **US-13.3-AC03**: E2E tests verify keyboard alternatives work for all drag operations; tests cover month/week/day calendar views.\n  - Test Method: E2E\n  - Evidence: E2E test results, keyboard workflow verification\n\n---\n\n### US-13.4: Target Size Compliance (2.5.8)\n\n**As a** user with motor impairments\n**I want** all interactive elements to meet minimum target size requirements\n**So that** I can easily click or tap on controls\n\n**Activities:**\n\n- E13-A6: Target Size Verification\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: US-8.3, Frontend\n\n**Acceptance Criteria:**\n\n- **US-13.4-AC01**: All pointer targets meet minimum 24×24 CSS pixels; design system explicitly documents 24×24 minimum (current 44×44 exceeds requirement).", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 106, "token_count": 202, "hash_short": "1650b0c0", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_107", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "8.3, Frontend\n\n**Acceptance Criteria:**\n\n- **US-13.4-AC01**: All pointer targets meet minimum 24×24 CSS pixels; design system explicitly documents 24×24 minimum (current 44×44 exceeds requirement).\n  - Test Method: Accessibility audit\n  - Evidence: Target size audit results, design system updates\n\n- **US-13.4-AC02**: Exceptions documented (inline links, essential targets) with justification; automated tests verify target sizes.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 107, "token_count": 107, "hash_short": "9cbe2ac6", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_108", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- Evidence: Target size audit results, design system updates\n\n- **US-13.4-AC02**: Exceptions documented (inline links, essential targets) with justification; automated tests verify target sizes.\n  - Test Method: Accessibility audit + Automated testing\n  - Evidence: Exception documentation, target size test results\n\n---\n\n### US-13.5: Consistent Help Mechanisms (3.2.6)\n\n**As a** user\n**I want** help mechanisms to appear in consistent locations\n**So that** I can easily find assistance when needed\n\n**Activities:**\n\n- E13-A7: Help Mechanism Consistency\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-13.5-AC01**: Help mechanisms (help links, contact forms) appear in consistent location across all pages; help placement pattern documented in design system.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 108, "token_count": 203, "hash_short": "97b06541", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_109", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ontend\n\n**Acceptance Criteria:**\n\n- **US-13.5-AC01**: Help mechanisms (help links, contact forms) appear in consistent location across all pages; help placement pattern documented in design system.\n  - Test Method: Manual audit\n  - Evidence: Help mechanism audit results, design system documentation\n\n- **US-13.5-AC02**: Manual audit confirms consistency across pages; help mechanisms are accessible and functional.\n  - Test Method: Manual audit\n  - Evidence: Consistency audit report, help mechanism verification\n\n---\n\n### US-13.6: Form Data Persistence (3.3.7)\n\n**As a** user\n**I want** form data to persist when validation errors occur\n**So that** I don't have to re-enter information\n\n**Activities:**\n\n- E13-A8: Form Data Persistence\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-13.6-AC01**: Form data persists on validation errors; multi-step forms preserve entered data across steps.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 109, "token_count": 237, "hash_short": "11bdca43", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_110", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "s**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-13.6-AC01**: Form data persists on validation errors; multi-step forms preserve entered data across steps.\n  - Test Method: E2E\n  - Evidence: Form persistence tests, data preservation verification\n\n- **US-13.6-AC02**: Auto-population patterns documented; forms use consistent patterns for data persistence.\n  - Test Method: Documentation review\n  - Evidence: Auto-population documentation, pattern examples\n\n- **US-13.6-AC03**: E2E tests verify data persistence across all forms; tests cover validation error scenarios.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 110, "token_count": 152, "hash_short": "a68db691", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_111", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": ": Documentation review\n  - Evidence: Auto-population documentation, pattern examples\n\n- **US-13.6-AC03**: E2E tests verify data persistence across all forms; tests cover validation error scenarios.\n  - Test Method: E2E\n  - Evidence: E2E test results, persistence verification\n\n---\n\n### US-13.7: Accessible Authentication (3.3.8)\n\n**As a** user\n**I want** authentication without cognitive function tests\n**So that** I can access the application easily\n\n**Activities:**\n\n- E13-A9: Authentication Pattern Review\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: Auth module\n\n**Acceptance Criteria:**\n\n- **US-13.7-AC01**: No cognitive function tests (CAPTCHA, puzzles) in authentication flows; authentication patterns documented.\n  - Test Method: Manual audit\n  - Evidence: Authentication audit results, pattern documentation\n\n- **US-13.7-AC02**: If CAPTCHA is added in future, alternative authentication must be available; manual audit confirms compliance.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 111, "token_count": 240, "hash_short": "f6b9d91b", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_112", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "- Evidence: Authentication audit results, pattern documentation\n\n- **US-13.7-AC02**: If CAPTCHA is added in future, alternative authentication must be available; manual audit confirms compliance.\n  - Test Method: Manual audit\n  - Evidence: Compliance verification, alternative authentication documentation\n\n---\n\n### US-13.8: Status Messages Implementation (4.1.3)\n\n**As a** screen reader user\n**I want** status messages to be properly announced\n**So that** I am aware of application state changes\n\n**Activities:**\n\n- E13-A10: Status Messages Implementation\n\n**Story Points**: 2\n**Priority**: High\n**Dependencies**: All frontend\n\n**Acceptance Criteria:**\n\n- **US-13.8-AC01**: All status messages use appropriate ARIA roles (role=\"status\" for polite, role=\"alert\" for assertive); status message patterns documented in design system.\n  - Test Method: Accessibility audit\n  - Evidence: ARIA role audit results, design system documentation\n\n- **US-13.8-AC02**: Polite vs.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 112, "token_count": 241, "hash_short": "50ac2205", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_113", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ssertive); status message patterns documented in design system.\n  - Test Method: Accessibility audit\n  - Evidence: ARIA role audit results, design system documentation\n\n- **US-13.8-AC02**: Polite vs. assertive updates properly implemented; automated tests verify ARIA roles.\n  - Test Method: Automated testing\n  - Evidence: ARIA role test results, status message verification\n\n---\n\n### US-13.9: WCAG 2.2 Testing and Validation\n\n**As a** developer\n**I want** accessibility tests updated for WCAG 2.2\n**So that** I can verify compliance with new standards\n\n**Activities:**\n\n- E13-A11: Update Accessibility Tests\n- E13-A12: WCAG 2.2 Compliance Validation\n\n**Story Points**: 3\n**Priority**: High\n**Dependencies**: US-8.6, All WCAG 2.2 stories\n\n**Acceptance Criteria:**\n\n- **US-13.9-AC01**: Accessibility tests updated to include WCAG 2.2 tags; axe-core tests include all 9 new success criteria.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 113, "token_count": 222, "hash_short": "55a42758", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_114", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "*Dependencies**: US-8.6, All WCAG 2.2 stories\n\n**Acceptance Criteria:**\n\n- **US-13.9-AC01**: Accessibility tests updated to include WCAG 2.2 tags; axe-core tests include all 9 new success criteria.\n  - Test Method: Automated testing\n  - Evidence: Test updates, WCAG 2.2 tag verification\n\n- **US-13.9-AC02**: All new criteria verified with automated tests; manual testing checklist updated for WCAG 2.2.\n  - Test Method: Automated testing + Manual audit\n  - Evidence: Test results, updated checklist\n\n- **US-13.9-AC03**: Full accessibility audit run; Lighthouse and axe-core report 0 WCAG 2.2 violations; all 9 new criteria pass.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 114, "token_count": 157, "hash_short": "a7d68a85", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_115", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "esting + Manual audit\n  - Evidence: Test results, updated checklist\n\n- **US-13.9-AC03**: Full accessibility audit run; Lighthouse and axe-core report 0 WCAG 2.2 violations; all 9 new criteria pass.\n  - Test Method: Accessibility audit\n  - Evidence: Audit report, Lighthouse scores, axe-core results\n\n---\n\n## Epic 11: Technical Debt & Code Quality\n\n### US-11.1: Fix 2FA Route Conflict\n\n**As a** developer\n**I want** to remove duplicate 2FA routes and dead code\n**So that** the codebase is cleaner and easier to maintain\n\n**Activities:**\n\n- E11-A1: Fix 2FA Route Conflict\n\n**Story Points**: 1\n**Priority**: Medium\n**Dependencies**: Auth module\n\n**Acceptance Criteria:**\n\n- **US-11.1-AC01**: Duplicate 2FA routes removed from auth.routes.ts (lines 99-128); twofa.controller.ts and twofa.service.ts deleted if unused.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 115, "token_count": 203, "hash_short": "6039e33f", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_116", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "pendencies**: Auth module\n\n**Acceptance Criteria:**\n\n- **US-11.1-AC01**: Duplicate 2FA routes removed from auth.routes.ts (lines 99-128); twofa.controller.ts and twofa.service.ts deleted if unused.\n  - Test Method: Code review\n  - Evidence: Code diff, route conflict resolution\n\n- **US-11.1-AC02**: Only two-factor.controller.ts and two-factor.routes.ts remain; all 2FA functionality uses single implementation; tests updated.\n  - Test Method: Code review\n  - Evidence: Code verification, test updates\n\n---\n\n### US-11.2: Review Skipped Tests\n\n**As a** developer\n**I want** to review and fix or document skipped tests\n**So that** test coverage is complete\n\n**Activities:**\n\n- E11-A2: Review Skipped Tests\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: Test suite\n\n**Acceptance Criteria:**\n\n- **US-11.2-AC01**: All 62 skipped tests reviewed; tests either fixed, documented (with reason), or removed; test coverage maintained or improved.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 116, "token_count": 237, "hash_short": "aad7e4b8", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_117", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "endencies**: Test suite\n\n**Acceptance Criteria:**\n\n- **US-11.2-AC01**: All 62 skipped tests reviewed; tests either fixed, documented (with reason), or removed; test coverage maintained or improved.\n  - Test Method: Code review\n  - Evidence: Skipped test review log, test fixes\n\n- **US-11.2-AC02**: Skipped test reasons documented in test files or test plan; intentional skips justified; no tests skipped without reason.\n  - Test Method: Code review\n  - Evidence: Test documentation, skip reason verification\n\n---\n\n### US-11.3: Standardize Test Patterns\n\n**As a** developer\n**I want** standardized timer cleanup patterns in tests\n**So that** tests are consistent and maintainable\n\n**Activities:**\n\n- E11-A3: Standardize Timer Cleanup\n\n**Story Points**: 1\n**Priority**: Medium\n**Dependencies**: Test suite\n\n**Acceptance Criteria:**\n\n- **US-11.3-AC01**: Timer cleanup standardized: tests using jest.useFakeTimers() restore in afterEach; no global timer clearing; pattern documented.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 117, "token_count": 244, "hash_short": "c32dc692", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_118", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "dencies**: Test suite\n\n**Acceptance Criteria:**\n\n- **US-11.3-AC01**: Timer cleanup standardized: tests using jest.useFakeTimers() restore in afterEach; no global timer clearing; pattern documented.\n  - Test Method: Code review\n  - Evidence: Timer cleanup pattern, test updates\n\n---\n\n### US-11.4: Improve Test Cleanup\n\n**As a** developer\n**I want** improved database connection cleanup in tests\n**So that** tests run reliably\n\n**Activities:**\n\n- E11-A4: Database Connection Cleanup\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: Test suite\n\n**Acceptance Criteria:**\n\n- **US-11.4-AC01**: Database connection cleanup verified: all tests that create connections close them in afterEach/afterAll; no open handles detected.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 118, "token_count": 182, "hash_short": "4eb40575", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_119", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "cies**: Test suite\n\n**Acceptance Criteria:**\n\n- **US-11.4-AC01**: Database connection cleanup verified: all tests that create connections close them in afterEach/afterAll; no open handles detected.\n  - Test Method: Integration\n  - Evidence: Connection cleanup tests, open handle verification\n\n---\n\n### US-11.5: Code Documentation\n\n**As a** developer\n**I want** comprehensive code documentation\n**So that** the codebase is easier to understand and maintain\n\n**Activities:**\n\n- E11-A5: Code Documentation\n\n**Story Points**: 2\n**Priority**: Medium\n**Dependencies**: All modules\n\n**Acceptance Criteria:**\n\n- **US-11.5-AC01**: All public APIs have JSDoc comments with parameter descriptions, return types, and examples; documentation coverage ≥80%.\n  - Test Method: Code review\n  - Evidence: JSDoc coverage report, documentation samples\n\n- **US-11.5-AC02**: Complex business logic has inline comments explaining rationale; code is self-documenting where possible; README files updated.", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 119, "token_count": 245, "hash_short": "3f7368ff", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
{"chunk_id": ".._.._docs_6.Implementation_USER_STORIES_chunk_120", "doc_id": ".._.._docs_6.Implementation_USER_STORIES", "text": "ce: JSDoc coverage report, documentation samples\n\n- **US-11.5-AC02**: Complex business logic has inline comments explaining rationale; code is self-documenting where possible; README files updated.\n  - Test Method: Code review\n  - Evidence: Code documentation review, README updates\n\n---\n\n## Summary\n\n### Total User Stories: 78\n\n### By Epic\n\n- Epic 1: 3 stories (12 SP)\n- Epic 2: 6 stories (20 SP)\n- Epic 3: 8 stories (30 SP)\n- Epic 4: 5 stories (23 SP)\n- Epic 5: 6 stories (26 SP)\n- Epic 6: 6 stories (14 SP)\n- Epic 7: 8 stories (25 SP)\n- Epic 8: 7 stories (16 SP)\n- Epic 9: 6 stories (15 SP)\n- Epic 10: 5 stories (12 SP)\n- Epic 11: 5 stories (8 SP)\n- Epic 12: 4 stories (26 SP)\n- Epic 13: 9 stories (20 SP)\n\n### Total Story Points: 267 SP\n\n### By Priority\n\n- **High**: 45 stories (141 SP)\n- **Medium**: 33 stories (126 SP)\n\n---\n\n**Last Updated**: 2025-01-23\n**Next Review**: 2025-02-01", "source_file": "../../docs/6.Implementation/USER_STORIES.md", "category": "implementation", "chunk_index": 120, "token_count": 221, "hash_short": "9d6b915c", "version": 1.0, "title": "FitVibe User Stories", "mtime": "2025-11-29T17:55:28.578487", "ingested_at": "2025-11-30T04:00:43.957083", "tags": ["implementation", "md"]}
