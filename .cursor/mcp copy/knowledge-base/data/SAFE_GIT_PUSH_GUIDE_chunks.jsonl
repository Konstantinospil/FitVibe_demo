{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_000", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "# Safe Git Push Guide\n\nThis guide ensures you can push to git without exposing secrets or introducing vulnerabilities.\n\n\n## ‚úÖ Current Security Status\n\nYour repository is **already well-protected**:\n\n1. **Comprehensive `.gitignore`** - Excludes:\n   - `.env` files and environment variables\n   - Private keys (`.pem`, `.key`, `.p12`, `.pfx`)\n   - Certificates (`.crt`)\n   - Database dumps\n   - Upload directories\n\n2. **Pre-commit Hook** - Automatically runs:\n   - Linting and formatting (via `lint-staged`)\n   - Secret scanning (checks for hardcoded secrets)\n\n3. **Pre-push Hook** - Automatically runs:\n   - Security scans (secret detection, dependency audit)\n   - Dependency vulnerability checks\n\n4. **Secrets Management** - Uses:\n   - HashiCorp Vault (development/staging)\n   - AWS Secrets Manager (production)\n   - Environment variables (fallback)\n\n## üîí Before Pushing Checklist\n\n### 1.", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 0, "token_count": 221, "hash_short": "456908bc", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_001", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "checks\n\n4. **Secrets Management** - Uses:\n   - HashiCorp Vault (development/staging)\n   - AWS Secrets Manager (production)\n   - Environment variables (fallback)\n\n## üîí Before Pushing Checklist\n\n### 1. Verify No Secrets in Staged Files\n\n```bash\n# Run the secret scanner manually\npnpm security:scan\n\n# Or use the dedicated secret scan script\nbash scripts/secrets-scan.sh\n```\n\n### 2. Check for Dependency Vulnerabilities\n\n```bash\n# Check for high/critical vulnerabilities\npnpm audit --audit-level=high\n\n# Or run the full audit script\nbash scripts/dependency-audit.sh\n```\n\n### 3. Verify .gitignore is Working\n\n```bash\n# Check if any .env files are tracked\ngit ls-files | grep \"\\.env$\"\n\n# Check if any private keys are tracked\ngit ls-files | grep -E \"\\.(pem|key|p12|pfx)$\"\n```\n\n### 4.", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 1, "token_count": 194, "hash_short": "26f051bc", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_002", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "fy .gitignore is Working\n\n```bash\n# Check if any .env files are tracked\ngit ls-files | grep \"\\.env$\"\n\n# Check if any private keys are tracked\ngit ls-files | grep -E \"\\.(pem|key|p12|pfx)$\"\n```\n\n### 4. Review Your Changes\n\n```bash\n# See what you're about to commit\ngit status\ngit diff\n\n# Check for any hardcoded credentials\ngit diff | grep -iE \"(password|secret|api_key|token)\\s*=\"\n```\n\n## üö® What to Do If Secrets Are Found\n\n### If Secrets Are Already Committed\n\n1. **DO NOT PUSH** - Stop immediately\n2. **Remove the secret** from the file\n3. **Rotate the secret** - The old value is compromised\n4. **Remove from git history** (if not yet pushed):\n   ```bash\n   # Remove file from last commit (if not pushed)\n   git reset HEAD~1\n   git add <file>\n   git commit -m \"fix: remove accidentally committed secret\"\n   ```\n\n5.", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 2, "token_count": 204, "hash_short": "229fa25e", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_003", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "story** (if not yet pushed):\n   ```bash\n   # Remove file from last commit (if not pushed)\n   git reset HEAD~1\n   git add <file>\n   git commit -m \"fix: remove accidentally committed secret\"\n   ```\n\n5.", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 3, "token_count": 49, "hash_short": "c6fc9f3c", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_004", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "**If already pushed**, you must:\n   - Rotate the secret immediately\n   - Consider using `git filter-branch` or BFG Repo-Cleaner (advanced)\n   - Contact repository maintainers\n\n### If Secrets Are in Unstaged Changes\n\nSimply remove them and use environment variables instead:\n\n```typescript\n// ‚ùå BAD - Hardcoded secret\nconst apiKey = \"sk_live_abc123...\";\n\n// ‚úÖ GOOD - Environment variable\nconst apiKey = process.env.API_KEY;\nif (!apiKey) {\n  throw new Error(\"API_KEY environment variable is required\");\n}\n```\n\n## üìã Manual Pre-Push Checklist\n\nBefore pushing, manually verify:\n\n- [ ] No `.env` files in staged changes\n- [ ] No private keys (`.pem`, `.key`) in staged changes\n- [ ] No hardcoded passwords, API keys, or tokens\n- [ ] All secrets use environment variables or secrets manager\n- [ ] `pnpm audit` shows no high/critical vulnerabilities\n- [ ] `pnpm security:scan` passes\n- [ ] Code passes linting (`pnpm lint`)\n\n## üõ°Ô∏è Automatic Protection\n\nThe hooks will **automatically prevent** you from:\n\n- **Pre-commit**: Committing files with secrets or lint errors\n- **Pre-push**: Pushing if high-severity vulnerabilities are found", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 4, "token_count": 281, "hash_short": "b018ece3", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_005", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "matic Protection\n\nThe hooks will **automatically prevent** you from:\n\n- **Pre-commit**: Committing files with secrets or lint errors\n- **Pre-push**: Pushing if high-severity vulnerabilities are found\n\n\n### Bypassing Hooks (Not Recommended)\n\nIf you absolutely must bypass hooks (e.g., for emergency hotfixes):\n\n```bash\n# Skip pre-commit hook\ngit commit --no-verify -m \"message\"\n\n# Skip pre-push hook\ngit push --no-verify\n```\n\n**‚ö†Ô∏è Warning**: Only bypass hooks if you're certain there are no secrets or vulnerabilities.\n\n## üîç What Gets Scanned\n\nThe secret scanner checks for:\n\n- AWS Access Keys (`AKIA...`, `A3T...`)\n- AWS Secret Keys\n- GitHub Tokens (`ghp_...`, `gho_...`, etc.)\n- Google API Keys (`AIza...`)\n- Slack Tokens (`xoxb-...`, `xoxa-...`, etc.)\n- Stripe Keys (`sk_live_...`, `sk_test_...`)\n- Private Keys (`-----BEGIN PRIVATE KEY-----`)\n- Hardcoded passwords/credentials in code\n\n## üìö Best Practices\n\n1. **Never commit secrets** - Use environment variables or secrets manager\n2.", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 5, "token_count": 246, "hash_short": "14141633", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE_chunk_006", "doc_id": ".._.._docs_5.Policies_5.b.Security_SAFE_GIT_PUSH_GUIDE", "text": "test_...`)\n- Private Keys (`-----BEGIN PRIVATE KEY-----`)\n- Hardcoded passwords/credentials in code\n\n## üìö Best Practices\n\n1. **Never commit secrets** - Use environment variables or secrets manager\n2. **Use `.env.example`** - Document required environment variables\n3. **Rotate secrets regularly** - Especially if accidentally exposed\n4. **Review diffs before committing** - `git diff` shows what you're committing\n5. **Use secrets manager in production** - Vault or AWS Secrets Manager\n6. **Keep dependencies updated** - Run `pnpm audit` regularly\n\n## üÜò Getting Help\n\nIf you're unsure whether something is safe to commit:\n\n1. Check the `.gitignore` file\n2. Run `pnpm security:scan`\n3. Ask in team chat or create an issue\n4. Review `docs/5.Policies/5.a.Ops/KEY_MANAGEMENT_POLICY.md`\n\n## üìñ Related Documentation\n\n- [Key Management Policy](../5.a.Ops/KEY_MANAGEMENT_POLICY.md)\n- [Security Policy](./SECURITY.md)\n- [Contributing Guide](../../../CONTRIBUTING.md)", "source_file": "../../docs/5.Policies/5.b.Security/SAFE_GIT_PUSH_GUIDE.md", "category": "policies", "chunk_index": 6, "token_count": 239, "hash_short": "a1e6fcfb", "version": 1.0, "title": "Safe Git Push Guide", "mtime": "2025-11-21T19:55:28.226948", "ingested_at": "2025-11-30T04:00:44.024399", "tags": ["policies", "md"]}
