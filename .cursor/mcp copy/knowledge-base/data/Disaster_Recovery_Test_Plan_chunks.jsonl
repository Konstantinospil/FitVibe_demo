{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_000", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "# Disaster Recovery Test Plan\n\n**Version:** 1.0\n**Last Updated:** 2025-11-11\n**Owner:** DevOps & Infrastructure Team\n**Frequency:** Quarterly\n\nThis document outlines the quarterly disaster recovery (DR) testing procedures for FitVibe production infrastructure.\n\n---\n\n\n## Table of Contents\n\n- [Overview](#overview)\n- [DR Objectives](#dr-objectives)\n- [Test Scenarios](#test-scenarios)\n- [Quarterly DR Test Procedure](#quarterly-dr-test-procedure)\n- [Success Criteria](#success-criteria)\n- [Rollback Procedures](#rollback-procedures)\n- [Post-Test Activities](#post-test-activities)\n\n---\n\n## Overview\n\n### Purpose\n\nQuarterly DR testing ensures FitVibe can recover from catastrophic failures within defined Recovery Time Objective (RTO) and Recovery Point Objective (RPO) targets.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 0, "token_count": 194, "hash_short": "c0086e26", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_001", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": ")\n\n---\n\n## Overview\n\n### Purpose\n\nQuarterly DR testing ensures FitVibe can recover from catastrophic failures within defined Recovery Time Objective (RTO) and Recovery Point Objective (RPO) targets.\n\n### Scope\n\nTests cover:\n\n- Database restoration from encrypted backups\n- Application deployment to secondary region\n- DNS failover and traffic routing\n- Data integrity verification\n- Service functionality validation\n\n### DR Targets\n\n| Metric | Target     | Notes                                    |\n| ------ | ---------- | ---------------------------------------- |\n| RTO    | ≤ 4 hours  | Time to restore service availability     |\n| RPO    | ≤ 24 hours | Maximum acceptable data loss             |\n| RCO    | ≤ 8 hours  | Recovery Capacity Objective (full scale) |\n\n---\n\n## DR Objectives\n\n### 1. Recovery Time Objective (RTO)\n\n**Target:** Restore critical services within 4 hours of declared disaster.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 1, "token_count": 226, "hash_short": "a58713bd", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_002", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "| ≤ 8 hours  | Recovery Capacity Objective (full scale) |\n\n---\n\n## DR Objectives\n\n### 1. Recovery Time Objective (RTO)\n\n**Target:** Restore critical services within 4 hours of declared disaster.\n\n**Critical Services:**\n\n- Authentication (`/api/v1/auth/*`)\n- Session logging (`/api/v1/sessions/*`)\n- User profiles (`/api/v1/users/me`)\n\n**Non-Critical Services (best effort):**\n\n- Analytics (`/api/v1/progress/*`)\n- Social feed (`/api/v1/feed/*`)\n\n### 2. Recovery Point Objective (RPO)\n\n**Target:** Maximum 24 hours of data loss.\n\n**Data Protection:**\n\n- Database backups: Daily at 02:00 UTC\n- Transaction logs: Continuous replication (production only)\n- Media files: S3 cross-region replication\n\n### 3.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 2, "token_count": 175, "hash_short": "3ff78886", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_003", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "um 24 hours of data loss.\n\n**Data Protection:**\n\n- Database backups: Daily at 02:00 UTC\n- Transaction logs: Continuous replication (production only)\n- Media files: S3 cross-region replication\n\n### 3. Service Level Objectives During DR\n\nDuring DR event:\n\n- Availability: ≥ 95% (reduced from 99.5% normal SLO)\n- Latency p95: ≤ 600ms (relaxed from 300ms)\n- Error rate: ≤ 2% (relaxed from 0.5%)\n\n---\n\n## Test Scenarios\n\n### Scenario 1: Complete Database Loss\n\n**Failure Mode:** Primary database server destroyed or corrupted beyond repair.\n\n**Test Steps:**\n\n1. Provision new database instance in DR region\n2. Restore from latest encrypted backup\n3. Verify data integrity (row counts, checksums)\n4. Point application to new database\n5. Run smoke tests\n\n**Expected Duration:** 2-3 hours\n\n### Scenario 2: Regional Outage\n\n**Failure Mode:** Entire AWS region (eu-central-1) unavailable.\n\n**Test Steps:**\n\n1. Deploy application stack to secondary region (eu-west-1)\n2. Restore database from S3 backup\n3.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 3, "token_count": 248, "hash_short": "64e064df", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_004", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "2: Regional Outage\n\n**Failure Mode:** Entire AWS region (eu-central-1) unavailable.\n\n**Test Steps:**\n\n1. Deploy application stack to secondary region (eu-west-1)\n2. Restore database from S3 backup\n3. Update DNS to point to DR region\n4. Verify CDN failover\n5. Run full E2E test suite\n\n**Expected Duration:** 3-4 hours\n\n### Scenario 3: Data Corruption\n\n**Failure Mode:** Bad migration or application bug corrupts production data.\n\n**Test Steps:**\n\n1. Identify corruption scope and timeline\n2. Restore database to point-in-time before corruption\n3. Replay transaction logs (if available)\n4. Validate data consistency\n5. Deploy fix for corruption source\n\n**Expected Duration:** 2-4 hours (depends on corruption scope)\n\n### Scenario 4: Ransomware Attack\n\n**Failure Mode:** Malicious encryption of production infrastructure.\n\n**Test Steps:**\n\n1. Isolate compromised systems\n2. Deploy clean infrastructure from IaC templates\n3. Restore database from last verified clean backup\n4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 4, "token_count": 243, "hash_short": "84b738ad", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_005", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "ious encryption of production infrastructure.\n\n**Test Steps:**\n\n1. Isolate compromised systems\n2. Deploy clean infrastructure from IaC templates\n3. Restore database from last verified clean backup\n4. Audit and rotate all credentials\n5. Deploy with hardened security posture\n\n**Expected Duration:** 4-6 hours\n\n---\n\n## Quarterly DR Test Procedure\n\n### Pre-Test Preparation (Week Before Test)\n\n#### 1. Stakeholder Notification\n\n- [ ] Email engineering team 7 days in advance\n- [ ] Schedule test during low-traffic window (Tuesday 02:00-06:00 UTC)\n- [ ] Create test plan document with specific scenario\n- [ ] Assign roles: Test Lead, Database Lead, Network Lead, Application Lead\n- [ ] Notify customer support of planned test (may cause brief staging instability)\n\n#### 2.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 5, "token_count": 192, "hash_short": "9b8eb0e6", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_006", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "cument with specific scenario\n- [ ] Assign roles: Test Lead, Database Lead, Network Lead, Application Lead\n- [ ] Notify customer support of planned test (may cause brief staging instability)\n\n#### 2. Environment Preparation\n\n- [ ] Verify latest backup available and valid:\n\n  ```bash\n  aws s3 ls s3://fitvibe-backups-prod/postgres/ | tail -5\n  ```\n\n- [ ] Provision DR test environment (isolated from staging)\n- [ ] Pre-deploy application containers to DR region\n- [ ] Verify monitoring and alerting functional in DR region\n\n#### 3. Backup Verification\n\n- [ ] Download latest production backup:\n\n  ```bash\n  aws s3 cp s3://fitvibe-backups-prod/postgres/latest.sql.gz.gpg /tmp/\n  ```\n\n- [ ] Verify checksum:\n\n  ```bash\n  sha256sum -c latest.sql.gz.gpg.sha256\n  ```\n\n- [ ] Test decryption (without restoring):\n  ```bash\n  gpg --decrypt latest.sql.gz.gpg | gunzip | head -100\n  ```\n\n### Test Execution (During Test Window)\n\n#### Phase 1: Declare Simulated Disaster (T+0)\n\n**Time:** 02:00 UTC\n\n1.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 6, "token_count": 247, "hash_short": "81edba1b", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_007", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "ut restoring):\n  ```bash\n  gpg --decrypt latest.sql.gz.gpg | gunzip | head -100\n  ```\n\n### Test Execution (During Test Window)\n\n#### Phase 1: Declare Simulated Disaster (T+0)\n\n**Time:** 02:00 UTC\n\n1. **Test Lead** declares simulated disaster scenario via Slack:\n\n   ```\n   @channel DRILL: Simulated DR scenario initiated.\n   Scenario: Complete database loss in eu-central-1\n   Timeline started. RTO target: 4 hours.\n   ```\n\n2. Start timer and begin logging all activities in incident doc\n\n#### Phase 2: Database Recovery (T+0 to T+2h)\n\n**Time:** 02:00 - 04:00 UTC\n\n1. **Database Lead** provisions new RDS instance in DR region:\n\n   ```bash\n   aws rds create-db-instance \\\n     --db-instance-identifier fitvibe-dr-test \\\n     --db-instance-class db.t3.medium \\\n     --engine postgres \\\n     --allocated-storage 100 \\\n     --region eu-west-1\n   ```\n\n2. Wait for instance availability (~10 minutes)\n\n3.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 7, "token_count": 224, "hash_short": "5f8e55af", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_008", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "r fitvibe-dr-test \\\n     --db-instance-class db.t3.medium \\\n     --engine postgres \\\n     --allocated-storage 100 \\\n     --region eu-west-1\n   ```\n\n2. Wait for instance availability (~10 minutes)\n\n3. Download and decrypt latest backup:\n\n   ```bash\n   aws s3 cp s3://fitvibe-backups-prod/postgres/fitvibe_production_20251111_020000.sql.gz.gpg .\n   gpg --decrypt fitvibe_production_20251111_020000.sql.gz.gpg | gunzip > backup.sql\n   ```\n\n4. Restore database:\n\n   ```bash\n   ./infra/scripts/restore-database.sh backup.sql dr-test\n   ```\n\n5. Verify restoration:\n\n   ```sql\n   -- Check row counts\n   SELECT\n     'users' AS table_name, COUNT(*) AS rows FROM users\n   UNION ALL\n   SELECT 'sessions', COUNT(*) FROM sessions\n   UNION ALL\n   SELECT 'exercises', COUNT(*) FROM exercises;\n\n   -- Verify latest data timestamp\n   SELECT MAX(created_at) FROM sessions;\n   ```\n\n6.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 8, "token_count": 216, "hash_short": "1284fd67", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_009", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "N ALL\n   SELECT 'sessions', COUNT(*) FROM sessions\n   UNION ALL\n   SELECT 'exercises', COUNT(*) FROM exercises;\n\n   -- Verify latest data timestamp\n   SELECT MAX(created_at) FROM sessions;\n   ```\n\n6. **Checkpoint:** Database restored and verified (Target: T+2h)\n\n#### Phase 3: Application Deployment (T+2h to T+3h)\n\n**Time:** 04:00 - 05:00 UTC\n\n1. **Application Lead** updates connection string in DR region:\n\n   ```bash\n   kubectl create secret generic db-credentials \\\n     --from-literal=DATABASE_URL=\"postgresql://fitvibe:$DB_PASS@fitvibe-dr-test.eu-west-1.rds.amazonaws.com:5432/fitvibe\" \\\n     -n dr-test\n   ```\n\n2. Deploy application stack:\n\n   ```bash\n   kubectl apply -f k8s/dr-region/ -n dr-test\n   kubectl rollout status deployment/fitvibe-backend -n dr-test\n   ```\n\n3. Verify pods healthy:\n\n   ```bash\n   kubectl get pods -n dr-test\n   # All pods should be Running with 1/1 ready\n   ```\n\n4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 9, "token_count": 225, "hash_short": "2ec9f962", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_010", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "st\n   kubectl rollout status deployment/fitvibe-backend -n dr-test\n   ```\n\n3. Verify pods healthy:\n\n   ```bash\n   kubectl get pods -n dr-test\n   # All pods should be Running with 1/1 ready\n   ```\n\n4. **Checkpoint:** Application deployed (Target: T+2.5h)\n\n#### Phase 4: Network & DNS Failover (T+3h to T+3.5h)\n\n**Time:** 05:00 - 05:30 UTC\n\n1. **Network Lead** updates Route53 health checks:\n\n   ```bash\n   aws route53 update-health-check \\\n     --health-check-id $HEALTH_CHECK_ID \\\n     --resource-path /health \\\n     --fully-qualified-domain-name dr.fitvibe.app\n   ```\n\n2. Create DNS failover record (DO NOT activate yet in drill):\n\n   ```bash\n   # Dry-run only for drill\n   aws route53 change-resource-record-sets \\\n     --hosted-zone-id $ZONE_ID \\\n     --change-batch file://dns-failover.json \\\n     --dry-run\n   ```\n\n3. Verify CDN points to DR origin (test subdomain only):\n\n   ```bash\n   curl -H \"Host: dr.fitvibe.app\" https://dr-lb.eu-west-1.elb.amazonaws.com/health\n   ```\n\n4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 10, "token_count": 245, "hash_short": "397ba679", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_011", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "ilover.json \\\n     --dry-run\n   ```\n\n3. Verify CDN points to DR origin (test subdomain only):\n\n   ```bash\n   curl -H \"Host: dr.fitvibe.app\" https://dr-lb.eu-west-1.elb.amazonaws.com/health\n   ```\n\n4. **Checkpoint:** Network configured (Target: T+3h)\n\n#### Phase 5: Validation & Testing (T+3h to T+4h)\n\n**Time:** 05:00 - 06:00 UTC\n\n1. **Run smoke tests:**\n\n   ```bash\n   npm run test:smoke -- --base-url=https://dr.fitvibe.app\n   ```\n\n2. **Run E2E test suite:**\n\n   ```bash\n   npm run test:e2e -- --base-url=https://dr.fitvibe.app\n   ```\n\n3. **Manual validation checklist:**\n   - [ ] User can register new account\n   - [ ] User can login with existing credentials\n   - [ ] User can view workout history\n   - [ ] User can create new session\n   - [ ] User can update profile\n   - [ ] API returns correct data from restored database\n\n4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 11, "token_count": 208, "hash_short": "b1f0c36a", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_012", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "gin with existing credentials\n   - [ ] User can view workout history\n   - [ ] User can create new session\n   - [ ] User can update profile\n   - [ ] API returns correct data from restored database\n\n4. **Performance validation:**\n\n   ```bash\n   k6 run tests/performance/smoke.js --vus 10 --duration 5m\n   ```\n\n   Verify:\n   - p95 latency ≤ 600ms\n   - Error rate ≤ 2%\n   - All endpoints responding\n\n5. **Data integrity validation:**\n\n   ```bash\n   # Compare row counts with pre-disaster snapshot\n   diff <(cat pre_disaster_counts.txt) <(ssh dr-db \"psql -f count_query.sql\")\n   ```\n\n6. **Checkpoint:** All tests passed (Target: T+4h)\n\n### Post-Test Activities (After Test Window)\n\n#### 1.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 12, "token_count": 171, "hash_short": "86511161", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_013", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "napshot\n   diff <(cat pre_disaster_counts.txt) <(ssh dr-db \"psql -f count_query.sql\")\n   ```\n\n6. **Checkpoint:** All tests passed (Target: T+4h)\n\n### Post-Test Activities (After Test Window)\n\n#### 1. Tear Down DR Environment\n\n- [ ] Stop DR application pods:\n\n  ```bash\n  kubectl delete namespace dr-test\n  ```\n\n- [ ] Terminate DR database instance:\n\n  ```bash\n  aws rds delete-db-instance --db-instance-identifier fitvibe-dr-test --skip-final-snapshot\n  ```\n\n- [ ] Clean up test artifacts:\n  ```bash\n  rm -rf /tmp/dr-test-*\n  ```\n\n#### 2. Documentation & Reporting\n\n- [ ] Complete test report template (see Appendix A)\n- [ ] Log actual vs. target times for each phase\n- [ ] Document any issues or deviations\n- [ ] Identify improvement opportunities\n\n#### 3. Stakeholder Communication\n\n- [ ] Email test results to engineering-leads@fitvibe.app\n- [ ] Post summary in #engineering Slack channel\n- [ ] Update DR runbook based on lessons learned\n\n#### 4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 13, "token_count": 237, "hash_short": "f64bbc64", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_014", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "#### 3. Stakeholder Communication\n\n- [ ] Email test results to engineering-leads@fitvibe.app\n- [ ] Post summary in #engineering Slack channel\n- [ ] Update DR runbook based on lessons learned\n\n#### 4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 14, "token_count": 49, "hash_short": "f93b44c4", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_015", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "Action Items\n\n- [ ] Create JIRA tickets for identified gaps\n- [ ] Schedule follow-up meeting for post-mortem\n- [ ] Update DR procedures if needed\n\n---\n\n## Success Criteria\n\n### Must Pass\n\n- ✅ Database restored within 2 hours\n- ✅ Application deployed and healthy within 3 hours\n- ✅ End-to-end tests passing within 4 hours\n- ✅ No data loss detected (row counts match)\n- ✅ All critical APIs functional\n\n### Should Pass\n\n- ✅ p95 latency ≤ 600ms\n- ✅ Error rate ≤ 2%\n- ✅ Zero failed smoke tests\n\n### Nice to Have\n\n- ✅ RTO under 3 hours (better than target)\n- ✅ Performance within normal SLO (p95 ≤ 300ms)\n\n### Failure Criteria\n\nTest is considered **failed** if:\n\n- ❌ RTO exceeds 4 hours\n- ❌ Data loss detected\n- ❌ Critical APIs non-functional after 4 hours\n- ❌ E2E test suite failure rate > 10%\n\n---\n\n## Rollback Procedures\n\nIf DR test encounters critical issues:\n\n### Scenario: Cannot Restore Database\n\n**Symptoms:** Backup corrupted, decryption failed, or restore errors\n\n**Actions:**\n\n1.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 15, "token_count": 246, "hash_short": "e8100864", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_016", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "10%\n\n---\n\n## Rollback Procedures\n\nIf DR test encounters critical issues:\n\n### Scenario: Cannot Restore Database\n\n**Symptoms:** Backup corrupted, decryption failed, or restore errors\n\n**Actions:**\n\n1. Attempt restore from previous day's backup\n2. If all backups fail, escalate to critical incident\n3. Review backup process and scripts\n4. Re-test backups in isolated environment\n\n### Scenario: Application Deployment Fails\n\n**Symptoms:** Pods crashing, health checks failing\n\n**Actions:**\n\n1. Check logs: `kubectl logs -n dr-test deployment/fitvibe-backend`\n2. Verify database connectivity\n3. Check secrets and config maps\n4. Rollback to previous working container image\n\n### Scenario: Test Exceeds RTO Window\n\n**Actions:**\n\n1. Continue test to completion (don't abort)\n2. Document delays and root causes\n3. Mark test as failed\n4. Schedule remediation sprint\n\n---\n\n## Post-Test Activities\n\n### 1. Test Report\n\nComplete report template within 48 hours (see Appendix A).\n\n### 2.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 16, "token_count": 243, "hash_short": "bf9b357e", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_017", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "ment delays and root causes\n3. Mark test as failed\n4. Schedule remediation sprint\n\n---\n\n## Post-Test Activities\n\n### 1. Test Report\n\nComplete report template within 48 hours (see Appendix A).\n\n### 2. Metrics Collection\n\nLog the following metrics:\n\n| Metric                  | Target | Actual | Status |\n| ----------------------- | ------ | ------ | ------ |\n| Database restore time   | 2h     | \\_\\_\\_ | \\_\\_\\_ |\n| Application deploy time | 3h     | \\_\\_\\_ | \\_\\_\\_ |\n| Total RTO               | 4h     | \\_\\_\\_ | \\_\\_\\_ |\n| Data loss (hours)       | 0h     | \\_\\_\\_ | \\_\\_\\_ |\n| E2E test pass rate      | 100%   | \\_\\_\\_ | \\_\\_\\_ |\n| Smoke test failures     | 0      | \\_\\_\\_ | \\_\\_\\_ |\n\n### 3. Lessons Learned\n\nConduct post-mortem meeting to discuss:\n\n- What went well?\n- What could be improved?\n- Were there any surprises?\n- Are our DR docs accurate?\n- Do we need additional automation?\n\n### 4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 17, "token_count": 224, "hash_short": "38851b86", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_018", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "ssons Learned\n\nConduct post-mortem meeting to discuss:\n\n- What went well?\n- What could be improved?\n- Were there any surprises?\n- Are our DR docs accurate?\n- Do we need additional automation?\n\n### 4.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 18, "token_count": 49, "hash_short": "c81e0def", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_019", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "Continuous Improvement\n\nUpdate procedures and automation based on findings:\n\n- Refine restore scripts\n- Improve monitoring in DR region\n- Automate manual steps\n- Update runbooks with new insights\n\n---\n\n## Appendix A: Test Report Template\n\n```markdown\n# FitVibe Quarterly DR Test Report\n\n**Test Date:** YYYY-MM-DD\n**Test Lead:** [Name]\n**Scenario:** [e.g., Complete Database Loss]\n**Status:** [Pass / Fail / Partial]\n\n## Executive Summary\n\n[2-3 sentence summary of test outcome]\n\n## Timeline\n\n| Phase                  | Start | End   | Duration | Target | Status |\n| ---------------------- | ----- | ----- | -------- | ------ | ------ |\n| Database Recovery      | 02:00 | XX:XX | XXh XXm  | 2h     | ✅/❌  |\n| Application Deployment | XX:XX | XX:XX | XXh XXm  | 1h     | ✅/❌  |\n| Network Failover       | XX:XX | XX:XX | XXh XXm  | 30m    | ✅/❌  |\n| Validation & Testing   | XX:XX | XX:XX | XXh XXm  | 1h     | ✅/❌  |\n| **Total RTO**          | 02:00 | XX:XX | XXh XXm  | 4h     | ✅/❌  |\n\n## Test Results", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 19, "token_count": 250, "hash_short": "2be7cabf", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_020", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "XX:XX | XX:XX | XXh XXm  | 30m    | ✅/❌  |\n| Validation & Testing   | XX:XX | XX:XX | XXh XXm  | 1h     | ✅/❌  |\n| **Total RTO**          | 02:00 | XX:XX | XXh XXm  | 4h     | ✅/❌  |\n\n## Test Results\n\n\n### Database Restoration\n\n- Backup file: [filename]\n- Restore duration: [time]\n- Data integrity: [✅ verified / ❌ issues found]\n- Row count diff: [number or \"none\"]\n\n### Application Deployment\n\n- Deployment method: [k8s / docker / etc]\n- Pods/containers: [X/X healthy]\n- Health check: [✅ passing / ❌ failing]\n\n### Functional Validation\n\n- Smoke tests: [X/Y passed]\n- E2E tests: [X/Y passed]\n- Performance: p95 = [XXX]ms, errors = [X]%\n\n## Issues Encountered\n\n1.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 20, "token_count": 165, "hash_short": "eb675d03", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_021", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "althy]\n- Health check: [✅ passing / ❌ failing]\n\n### Functional Validation\n\n- Smoke tests: [X/Y passed]\n- E2E tests: [X/Y passed]\n- Performance: p95 = [XXX]ms, errors = [X]%\n\n## Issues Encountered\n\n1.", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 21, "token_count": 49, "hash_short": "f52af333", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan_chunk_022", "doc_id": ".._.._docs_5.Policies_5.a.Ops_Disaster_Recovery_Test_Plan", "text": "[Issue description]\n   - Impact: [high/medium/low]\n   - Resolution: [how resolved]\n   - Action item: [JIRA-XXX]\n\n## Lessons Learned\n\n### What Went Well\n\n- [Item 1]\n- [Item 2]\n\n### Areas for Improvement\n\n- [Item 1]\n- [Item 2]\n\n## Action Items\n\n- [ ] [Action 1] - Owner: [Name] - Due: [Date]\n- [ ] [Action 2] - Owner: [Name] - Due: [Date]\n\n## Conclusion\n\n[Summary and overall assessment]\n\n**Next Test Date:** [Quarter + Date]\n```\n\n---\n\n## Appendix B: DR Test Schedule\n\n| Quarter | Test Window         | Scenario          | Status |\n| ------- | ------------------- | ----------------- | ------ |\n| Q1 2025 | Jan 16, 02:00-06:00 | Database Loss     | \\_\\_\\_ |\n| Q2 2025 | Apr 15, 02:00-06:00 | Regional Outage   | \\_\\_\\_ |\n| Q3 2025 | Jul 15, 02:00-06:00 | Data Corruption   | \\_\\_\\_ |\n| Q4 2025 | Oct 14, 02:00-06:00 | Ransomware Attack | \\_\\_\\_ |\n\n---\n\n## Appendix C: Contact Information\n\n**During DR Test:**\n\n- Test Lead: [On-call DevOps]\n- Database Lead: [On-call DBA]\n- Application Lead: [On-call Backend Engineer]\n- Network Lead: [On-call SRE]\n\n**Escalation:**\n\n- Engineering Manager\n- CTO\n- Customer Support Lead (for communication)\n\n**Communication Channels:**\n\n- Slack: #dr-test (created for test duration)\n- Incident Doc: [Google Doc link]\n- Video Call: [Zoom/Meet link]", "source_file": "../../docs/5.Policies/5.a.Ops/Disaster_Recovery_Test_Plan.md", "category": "policies", "chunk_index": 22, "token_count": 319, "hash_short": "5ff18f60", "version": 1.0, "title": "Disaster Recovery Test Plan", "mtime": "2025-11-15T07:01:39.658033", "ingested_at": "2025-11-30T04:00:43.985193", "tags": ["policies", "md"]}
