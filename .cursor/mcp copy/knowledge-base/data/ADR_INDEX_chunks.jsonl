{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_000", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "# Architecture Decision Record (ADR) Index\n\n**Sources of truth:** PRD, TDD, and QA plan.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 0, "token_count": 22, "hash_short": "c7996d00", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_001", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "Legend ‚Äî Status: ‚úÖ Accepted ¬∑ üìù Proposed ¬∑ ‚è≥ Deferred ¬∑ ‚úñÔ∏è Superseded\n\n---\n\n\n## ADR Catalog\n\n| ID      | Title                                                                                    | Status      | Summary                                                                                                                                              | Decision Date | Links                                                         |\n| ------- | ---------------------------------------------------------------------------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | ------------------------------------------------------------- |\n| ADR-001 | API Versioning Policy (v1 additive; v2 for breaking changes)                             | üìù Proposed | `/api/v1` is stable; additive fields only; deprecations use `Deprecation/Sunset` headers; breaking changes land in `/api/v2` with 2-release overlap", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 1, "token_count": 263, "hash_short": "650fbdef", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_002", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "changes)                             | üìù Proposed | `/api/v1` is stable; additive fields only; deprecations use `Deprecation/Sunset` headers; breaking changes land in `/api/v2` with 2-release overlap. | 2025-10-13    | TDD ¬ß7.1.4, ¬ß7.1.1                                            |\n| ADR-002 | Auth Tokens & Rotation Strategy                                                          | üìù Proposed | RS256 JWT with 15m access, 14d refresh; refresh rotation + reuse detection; JWKS-based key rotation.                                                 | 2025-10-13    | TDD ¬ß5.1.1, ¬ß12.4                                             |\n| ADR-003 | Data Retention & GDPR Backup Purge Window                                                | üìù Proposed | Classification table; DSR delete hard-deletes private content and purges backups ‚â§14 days; audit trail.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 2, "token_count": 212, "hash_short": "9b9e85b5", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_003", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "| üìù Proposed | Classification table; DSR delete hard-deletes private content and purges backups ‚â§14 days; audit trail.                                              | 2025-10-13    | TDD ¬ß6.6, ¬ß12.6                                               |\n| ADR-004 | Media Upload Safety & AV Scanning                                                        | üìù Proposed | AV scan before persistence; allow-list MIME; EXIF strip; quarantine on suspect/malware; alerting.                                                    | 2025-10-13    | TDD ¬ß5.1.6, ¬ß12.10                                            |\n| ADR-005 | Partitioning Strategy for `sessions` (monthly)                                           | üìù Proposed | Range partition on `planned_at` with default partition; rotate & archive after 24 months.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 3, "token_count": 199, "hash_short": "b11c845d", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_004", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "| üìù Proposed | Range partition on `planned_at` with default partition; rotate & archive after 24 months.                                                            | 2025-10-13    | TDD ¬ß6.4, ¬ß12.9                                               |\n| ADR-006 | Observability Cardinality Policy                                                         | üìù Proposed | Route templates in labels, bounded label sets, no PII; alerts on series count growth.                                                                | 2025-10-13    | TDD ¬ß5.4                                                      |\n| ADR-007 | Idempotency Policy for Writes                                                            | üìù Proposed | `Idempotency-Key` header; 24h storage; 409 on payload mismatch; deterministic replay.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 4, "token_count": 198, "hash_short": "5a9214d7", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_005", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "| üìù Proposed | `Idempotency-Key` header; 24h storage; 409 on payload mismatch; deterministic replay.                                                                | 2025-10-13    | TDD ¬ß5.7, ¬ß7.14                                               |\n| ADR-008 | Materialized Views for Analytics                                                         | üìù Proposed | Use matviews for `session_summary`, `weekly_aggregates`; incremental refresh on writes + scheduled.                                                  | 2025-10-13    | TDD ¬ß4.5, ¬ß6.3                                                |\n| ADR-009 | Global Exercise Library Ownership Model                                                  | üìù Proposed | Admin-owned global records (`owner_id = NULL`); user-owned duplicates allowed via normalized uniqueness.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 5, "token_count": 203, "hash_short": "baee84f3", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_006", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "| üìù Proposed | Admin-owned global records (`owner_id = NULL`); user-owned duplicates allowed via normalized uniqueness.                                             | 2025-10-13    | TDD ¬ß4.3, ¬ß6.2.6                                              |\n| ADR-010 | Public/Link/Private Visibility Model                                                     | üìù Proposed | Resource visibility enum with default **private**; link tokens revocable; public feed feature-flagged.                                               | 2025-10-13    | TDD ¬ß4.7, ¬ß7.8                                                |\n| ADR-011 | Internationalization ‚Äì Hybrid Model with MVP Static-Only Rollout                         | ‚úÖ Accepted | Static UI catalogs (EN/DE) for MVP; feature-flagged AI translation for UGC with caching, PII redaction, and DSR purge.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 6, "token_count": 206, "hash_short": "680f217b", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_007", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "nly Rollout                         | ‚úÖ Accepted | Static UI catalogs (EN/DE) for MVP; feature-flagged AI translation for UGC with caching, PII redaction, and DSR purge.                               | 2025-10-14    | [ADR-011](./ADR-011-internationalization-hybrid-approach.md)  |\n| ADR-012 | Monorepo Structure, Tooling, and Governance                                              | ‚úÖ Accepted | pnpm workspaces + optional Turbo; Dockerized CI; governance via CODEOWNERS, changesets, and feature flags.                                           | 2025-10-14    | [ADR-012](./ADR-012-monorepo-structure.md)                    |\n| ADR-013 | Modular Backend Architecture (Router ‚Üí Service ‚Üí Repository)                             | ‚úÖ Accepted | Three-layer modules (router/service/repo); strict authz, audit, caching seams; Knex migrations.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 7, "token_count": 210, "hash_short": "8afd1162", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_008", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "sitory)                             | ‚úÖ Accepted | Three-layer modules (router/service/repo); strict authz, audit, caching seams; Knex migrations.                                                      | 2025-10-14    | [ADR-013](./ADR-013-modular-backend-architecture.md)          |\n| ADR-014 | Technology Stack & Runtime Standards                                                     | ‚úÖ Accepted | Node/Express, React/Vite, Postgres + Knex, object storage for media, strong headers/CSRF/RBAC; OpenAPI in CI.                                        | 2025-10-14    | [ADR-014](./ADR-014-technology-stack.md)                      |\n| ADR-015 | API Design & Internationalization (Hybrid) ‚Äì MVP Static, UGC Translation Feature-Flagged | ‚úÖ Accepted | REST/JSON `/v1`, RFC7807 errors, idempotency, cursor pagination; i18n hybrid at API with feature flag.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 8, "token_count": 211, "hash_short": "478a0801", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_009", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "ic, UGC Translation Feature-Flagged | ‚úÖ Accepted | REST/JSON `/v1`, RFC7807 errors, idempotency, cursor pagination; i18n hybrid at API with feature flag.                                               | 2025-10-14    | [ADR-015](./ADR-015-api-design-and-i18n-hybrid.md)            |\n| ADR-016 | Security Middleware & Audit Logging                                                      | ‚úÖ Accepted | CSP/HSTS/Referrer/Permissions, CSRF, RBAC; PII-free audit logs with correlation IDs and tamper-evidence.                                             | 2025-10-14    | [ADR-016](./ADR-016-audit-logging-and-security-middleware.md) |\n| ADR-017 | Avatar Handling & Media Storage (Object Storage + AV Scan)                               | ‚úÖ Accepted | Server-mediated uploads; AV scan; EXIF strip; derivatives; signed URLs; private-by-default.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 9, "token_count": 209, "hash_short": "912f66e9", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_010", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "Scan)                               | ‚úÖ Accepted | Server-mediated uploads; AV scan; EXIF strip; derivatives; signed URLs; private-by-default.                                                          | 2025-10-14    | [ADR-017](./ADR-017-avatar-handling-base64.md)                |\n| ADR-018 | CI/CD with GitHub Actions and GHCR                                                       | ‚úÖ Accepted | GitHub Actions with quality gates; GHCR images with SBOM/provenance; OIDC, signed releases, manual prod gate.                                        | 2025-10-14    | [ADR-018](./ADR-018-ci-cd-github-ghcr.md)                     |\n| ADR-019 | Caching & Performance Strategy                                                           | ‚úÖ Accepted | Layered caching with explicit invalidation; API p95 < 300 ms; LCP < 2.5 s; fail on >10% regression.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 10, "token_count": 211, "hash_short": "5233da93", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_011", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "| ‚úÖ Accepted | Layered caching with explicit invalidation; API p95 < 300 ms; LCP < 2.5 s; fail on >10% regression.                                                  | 2025-10-14    | [ADR-019](./ADR-019-caching-and-performance-strategy.md)      |\n| ADR-020 | Accessibility Compliance (WCAG 2.1 AA) & Inclusive UX                                    | ‚úÖ Accepted | Semantics-first components, keyboard flows, contrast, alt text; Lighthouse/axe in CI with ‚â•90 score.                                                 | 2025-10-14    | [ADR-020](./ADR-020-accessibility-compliance.md)              |\n| ADR-021 | Standardize Backend Test Runner on Jest 30 + @swc/jest                                   | ‚úÖ Accepted | Adopt _Jest 30_ with _@swc/jest_ for the backend test runner (unit + integration with Supertest), replacing ts-jest.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 11, "token_count": 206, "hash_short": "08bf61fc", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX_chunk_012", "doc_id": ".._.._docs_2.Technical_Design_Document_2.f.Architectural_Decision_Documentation_ADR_INDEX", "text": "t                                   | ‚úÖ Accepted | Adopt _Jest 30_ with _@swc/jest_ for the backend test runner (unit + integration with Supertest), replacing ts-jest.                                 | 2025-10-14    | [ADR-021](./ADR-021-test-runner-backend-jest30-sw.md)         |\n\n---\n\n## Maintenance Notes\n\n- When an ADR changes state, update both the file‚Äôs **Status Log** and this index.\n- Superseded ADRs remain listed with a link to the successor.\n- Add PRD/TDD section numbers in _Links_ for quick traceability.", "source_file": "../../docs/2.Technical_Design_Document/2.f.Architectural_Decision_Documentation/ADR_INDEX.md", "category": "technical", "chunk_index": 12, "token_count": 129, "hash_short": "b99793d5", "version": 1.0, "title": "Architecture Decision Record (ADR) Index", "mtime": "2025-10-18T10:54:50.077858", "ingested_at": "2025-11-30T04:00:44.155217", "tags": ["technical", "md"]}
