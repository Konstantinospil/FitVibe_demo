{"chunk_id": ".._.._docs_2.Technical_Design_Document_API_Reference_Generation_chunk_000", "doc_id": ".._.._docs_2.Technical_Design_Document_API_Reference_Generation", "text": "# API Reference Automation\n\nThe FitVibe backend publishes an OpenAPI 3.1 specification that mirrors the\ncurrent REST surface. The specification is generated from the source tree so\nthat release automation and downstream clients can consume an up-to-date\ncontract.\n\n\n## Generation workflow\n\n1. Ensure dependencies are installed (`pnpm install` at repo root).\n2. Run the monorepo script:\n   ```\n   pnpm openapi:build\n   ```\n   This delegates to `apps/backend/scripts/generate-openapi.mjs` which exports\n   `openapi/openapi.json`.\n3. The file can be served directly to Stoplight, Redocly, or bundled into the\n   documentation site. CI artifacts already upload the JSON for release tags.\n\n## Adding new endpoints\n\n- Document the handler in-place (JSDoc or module docstring) and update the\n  schema definitions inside `generate-openapi.mjs`.\n- When zod-to-openapi wiring lands, the generator will pull the contract from\n  the runtime validators automatically.", "source_file": "../../docs/2.Technical_Design_Document/API_Reference_Generation.md", "category": "technical", "chunk_index": 0, "token_count": 238, "hash_short": "b09e9b90", "version": 1.0, "title": "API Reference Automation", "mtime": "2025-10-26T20:35:25.250675", "ingested_at": "2025-11-30T04:00:42.102810", "tags": ["technical", "md"]}
{"chunk_id": ".._.._docs_2.Technical_Design_Document_API_Reference_Generation_chunk_001", "doc_id": ".._.._docs_2.Technical_Design_Document_API_Reference_Generation", "text": "ule docstring) and update the\n  schema definitions inside `generate-openapi.mjs`.\n- When zod-to-openapi wiring lands, the generator will pull the contract from\n  the runtime validators automatically. Until then, keep the manual schema in\n  sync with controller DTOs.\n- Remember to include auth headers, error envelopes, and pagination metadata.\n\n## Quality gates\n\n- CI runs `pnpm openapi:build` and diffs the resulting JSON. Commits that omit\n  regenerated artifacts will fail.\n- Reviewers expect the PR description to link to the generated specification if\n  the API shape changed (`openapi/openapi.json` diff).\n- The QA plan references this artifact for contract testing\n  (see `4c.Testing_and_Quality_Assurance_Plan_ApCD.md`).", "source_file": "../../docs/2.Technical_Design_Document/API_Reference_Generation.md", "category": "technical", "chunk_index": 1, "token_count": 182, "hash_short": "d0749da6", "version": 1.0, "title": "API Reference Automation", "mtime": "2025-10-26T20:35:25.250675", "ingested_at": "2025-11-30T04:00:42.102810", "tags": ["technical", "md"]}
