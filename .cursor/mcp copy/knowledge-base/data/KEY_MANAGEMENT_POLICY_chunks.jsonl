{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY_chunk_000", "doc_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY", "text": "---\ntitle: \"FitVibe Key Management Policy\"\nversion: \"v.1\"\nstatus: \"Accepted\"\nowner: \"Konstantinos Pilpilidis (Dr.)\"\ndate: \"2025-10-18\"\nlicense: \"MIT\"\ncontact: \"kpilpilidis@gmail.com\"\n---\n\n## ğŸ” 1. Purpose\n\nThis policy defines how **FitVibe** manages, rotates, and retires cryptographic keys used for authentication, encryption, and secure communication across all environments.\n\n---\n\n## ğŸ§­ 2. Scope\n\nApplies to the following key types:\n\n- **JWT signing keys** (RSA 4096-bit or ECDSA P-256)\n- **Database encryption keys** (AES-256)\n- **Transport Layer Security (TLS) certificates**\n- **Infrastructure secrets** (Docker, GitHub Actions, Prometheus, Grafana)\n\n---\n\n## ğŸ§© 3. Key Generation\n\n- Keys are generated using OpenSSL or Nodeâ€™s `crypto` module:\n  ```bash\n  openssl genrsa -out jwt_private.pem 4096\n  openssl rsa -in jwt_private.pem -pubout -out jwt_public.pem\n  ```\n- Each environment (`dev`, `staging`, `prod`) has unique key pairs.\n- Private keys are never stored in version control.", "source_file": "../../docs/5.Policies/5.a.Ops/KEY_MANAGEMENT_POLICY.md", "category": "policies", "chunk_index": 0, "token_count": 246, "hash_short": "40296fee", "version": 1.0, "title": "Key Management Policy", "mtime": "2025-10-19T17:57:31.183431", "ingested_at": "2025-11-30T04:00:44.000941", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY_chunk_001", "doc_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY", "text": "te.pem 4096\n  openssl rsa -in jwt_private.pem -pubout -out jwt_public.pem\n  ```\n- Each environment (`dev`, `staging`, `prod`) has unique key pairs.\n- Private keys are never stored in version control.\n- Keys are stored securely via:\n  - GitHub Actions Secrets (CI/CD)\n  - Docker secrets (runtime)\n  - Hardware-backed vault or encrypted volume (`/etc/fitvibe/keys`)\n\n---\n\n## â±ï¸ 4. Rotation Frequency\n\n| Key Type               | Rotation Interval  | Method                       |\n| ---------------------- | ------------------ | ---------------------------- |\n| JWT signing key        | Every **14 days**  | Automated, JWKS updated      |\n| TLS certificate        | Every **90 days**  | Auto-renew via Letâ€™s Encrypt |\n| DB encryption key      | Every **6 months** | Re-encrypt inactive data     |\n| Infrastructure secrets | Every **3 months** | Manual rotation & validation |\n\nPrometheus alerts trigger if JWT key age > **14 days** or rotation fails.\n\n---\n\n## ğŸ”„ 5. Rotation Process\n\n1.", "source_file": "../../docs/5.Policies/5.a.Ops/KEY_MANAGEMENT_POLICY.md", "category": "policies", "chunk_index": 1, "token_count": 245, "hash_short": "1572e982", "version": 1.0, "title": "Key Management Policy", "mtime": "2025-10-19T17:57:31.183431", "ingested_at": "2025-11-30T04:00:44.000941", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY_chunk_002", "doc_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY", "text": "data     |\n| Infrastructure secrets | Every **3 months** | Manual rotation & validation |\n\nPrometheus alerts trigger if JWT key age > **14 days** or rotation fails.\n\n---\n\n## ğŸ”„ 5. Rotation Process\n\n1. Generate new key pair\n2. Publish updated JWKS at `/.well-known/jwks.json`\n3. Mark previous key as _deprecated_ (valid for 24 h overlap)\n4. Revoke and archive old key (`archive/YYYY-MM-DD/`)\n5. Verify new key usage for all services\n6. Log rotation event (`audit.security.rotation`)\n\nAutomated by `infra/scripts/rotate_keys.sh`.\n\n---\n\n## ğŸ” 6. Storage & Access Control\n\n- Only **two authorized maintainers** have access to the private vault.\n- All key access logged via `auditd`.\n- Keys encrypted using **AES-256-GCM** at rest.\n- Two-person rule (4-eyes principle) required for production key operations.\n- Temporary key copies automatically deleted post-deployment.\n\n---\n\n## ğŸš¨ 7. Revocation & Compromise Handling\n\nIf compromise is suspected:\n\n1. Revoke key in JWKS (flag `revoked=true`)\n2.", "source_file": "../../docs/5.Policies/5.a.Ops/KEY_MANAGEMENT_POLICY.md", "category": "policies", "chunk_index": 2, "token_count": 246, "hash_short": "eb5dd715", "version": 1.0, "title": "Key Management Policy", "mtime": "2025-10-19T17:57:31.183431", "ingested_at": "2025-11-30T04:00:44.000941", "tags": ["policies", "md"]}
{"chunk_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY_chunk_003", "doc_id": ".._.._docs_5.Policies_5.a.Ops_KEY_MANAGEMENT_POLICY", "text": "y operations.\n- Temporary key copies automatically deleted post-deployment.\n\n---\n\n## ğŸš¨ 7. Revocation & Compromise Handling\n\nIf compromise is suspected:\n\n1. Revoke key in JWKS (flag `revoked=true`)\n2. Invalidate all active sessions signed by the key\n3. Generate and deploy new key pair\n4. Notify affected users within **72 hours** (GDPR Art. 33)\n5. Record incident in `infra/security/incidents/YYYY-MM-DD.md`\n\n---\n\n## ğŸ§¾ 8. Audit & Verification\n\n- Quarterly key rotation reviews logged in `infra/security/audit/rotation_log.md`\n- Annual penetration test includes key lifecycle review\n- Records kept for **24 months**\n\n---\n\n## ğŸ“š 9. References\n\n- **PRD Â§6.13** â€“ Security & Compliance\n- **TDD Â§10** â€“ Authentication & Security Layer\n- **QA Plan Â§12** â€“ Security Testing & Key Lifecycle\n- **FitVibe SECURITY.md** â€“ Overall Security Policy\n\n---\n\n_Â© 2025 FitVibe Development â€“ All Rights Reserved._", "source_file": "../../docs/5.Policies/5.a.Ops/KEY_MANAGEMENT_POLICY.md", "category": "policies", "chunk_index": 3, "token_count": 222, "hash_short": "8c1a56d6", "version": 1.0, "title": "Key Management Policy", "mtime": "2025-10-19T17:57:31.183431", "ingested_at": "2025-11-30T04:00:44.000941", "tags": ["policies", "md"]}
