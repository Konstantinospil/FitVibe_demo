# US-12.2: Training Unit Assignment

---

**Story ID**: US-12.2  
**Epic ID**: [E12](../b.Epics/E12-coach-training-unit-assignment.md)  
**Activity IDs**: [E12-A2](../c.Activities/E12-A2-training-unit-assignment-system.md), [E12-A4](../c.Activities/E12-A4-coach-athlete-relationship-management.md)  
**Title**: Training Unit Assignment  
**Status**: Open  
**Story Points**: 8  
**Priority**: High  
**Created**: 2025-01-21  
**Updated**: 2025-01-21

---

## User Story

**As a** coach  
**I want** to assign training units to my athletes on specific dates  
**So that** I can efficiently distribute standardized workouts while maintaining flexibility for individual customization

**Story Points**: 8

## Description

Coaches need the ability to assign training units to athletes on specific dates. The system must support single and bulk assignment, validate coach-athlete relationships, create scheduled sessions in the athlete's planner, and track assignment history. Assignment should complete in under 30 seconds per athlete for bulk operations.

## Related Acceptance Criteria

{Note: Acceptance criteria will be created and linked here as they are defined}

## Dependencies

### Story Dependencies

- [US-12.1: Training Unit CRUD](./US-12.1-training-unit-crud.md): Training units must exist before assignment
- [US-12.4: Coach-Athlete Relationship Management](./US-12.4-coach-athlete-relationship-management.md): Relationships must be established
- [FR-004: Planner](../a.Requirements/FR-004-planner.md): Session planning required

### Feature Dependencies

- [FR-012: Coach Training Unit Assignment](../a.Requirements/FR-012-coach-training-unit-assignment.md): Parent requirement

## Technical Notes

- Assignment date validation: ensure date is in the future or today
- Coach-athlete relationship validation: verify coach has permission to assign to athlete
- Session creation: create scheduled sessions in athlete's planner based on training unit
- Bulk assignment: support assigning to multiple athletes in single operation
- Transaction support: use database transactions for bulk operations to ensure atomicity
- Assignment history: track all assignments with timestamps and coach information
- Performance: bulk assignment should complete in ≤30 seconds per athlete

## Test Strategy

- Unit tests for assignment logic and validation
- Integration tests for assignment API endpoints
- E2E tests for complete assignment workflow
- Test bulk assignment performance (≤30s per athlete)
- Test coach-athlete relationship validation
- Test transaction rollback on partial failures
- Test assignment history tracking

## Definition of Done

- [ ] All acceptance criteria met
- [ ] Code implemented and reviewed
- [ ] Tests written and passing (≥80% coverage)
- [ ] Documentation updated
- [ ] Assignment works in under 30 seconds per athlete
- [ ] Bulk assignment functional with transaction support
- [ ] Assignment history tracking working

---

**Last Updated**: 2025-01-21  
**Next Review**: 2025-02-21


